<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="RSP">
        <link rel="canonical" href="https://iot-kmutnb.github.io/blogs/matlab/periodic_functions/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>ฟังก์ชันเป็นคาบและการเขียนโค้ดด้วย MATLAB - IoT Engineering Education</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../../css/extra.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/c.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/cpp.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/arduino.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/javascript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/typescript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/json.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/vhdl.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/verilog.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/bash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/text.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/plaintext.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/matlab.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/julia.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/go.min.js"></script>
        <script>hljs.highlightAll();</script>
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-966FQ6RN6W"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', "G-966FQ6RN6W");
        </script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">IoT Engineering Education</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../about/" class="nav-link">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#matlab" class="nav-link">ฟังก์ชันเป็นคาบและการเขียนโค้ดด้วย MATLAB</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#periodic-functions" class="nav-link">&#9655; ฟังก์ชันเป็นคาบ (Periodic Functions)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_1" class="nav-link">&#9655; การสร้างฟังก์ชันเป็นคาบจากฟังก์ชันไม่เป็นคาบ</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_2" class="nav-link">&#9655; กล่าวสรุป</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="matlab">ฟังก์ชันเป็นคาบและการเขียนโค้ดด้วย MATLAB<a class="headerlink" href="#matlab" title="Permanent link">#</a></h1>
<p>บทความนี้กล่าวถึง การเขียนโค้ด <strong>MATLAB</strong>
สำหรับการสร้างและแสดงรูปกราฟของฟังก์ชันที่มีตัวแปรต้นเป็นเวลา (t) และเป็นฟังก์ชันคาบ</p>
<hr />
<h2 id="periodic-functions">&#9655; <strong>ฟังก์ชันเป็นคาบ (Periodic Functions)</strong><a class="headerlink" href="#periodic-functions" title="Permanent link">#</a></h2>
<p>ฟังก์ชันในทางคณิตศาสตร์ เช่น ฟังก์ชันตรีโกณมิติ ไซน์และโคไซน์เป็นฟังก์ชันที่ให้ค่าซ้ำ
ในช่วงค่าที่จำกัดสำหรับตัวแปรต้น หรือเรียกว่า "คาบ"  (<strong>Period</strong>)
ฟังก์ชันไซน์ <script type="math/tex">sin(t)</script> หรือ <script type="math/tex">cos(t)</script> มีคาบเท่ากับ <script type="math/tex">2\pi</script>
</p>
<p>โดยนิยามแล้ว ถ้าฟังก์ชัน <script type="math/tex">f(t)</script> เป็นฟังก์ชันรายคาบสำหรับตัวแปร <script type="math/tex">t</script> และมีคาบเท่ากับ <script type="math/tex">T</script> มีคุณสมบัติดังนี้</p>
<p>
<script type="math/tex; mode=display">
  f(t + T) = f(t), \quad \forall t \in \mathcal{R},\; T > 0 
</script>
</p>
<p>ฟังก์ชัน <script type="math/tex">f(t)</script> สามารถให้ค่าเป็นเลขจำนวนจริง รวมถึงเลขจำนวนเชิงซ้อนก็ได้</p>
<p>&nbsp;</p>
<hr />
<p><strong>คำถาม:</strong> ถ้าให้ <script type="math/tex">f(t) = sin(2t)</script> ฟังก์ชันนี้มีคาบ (<script type="math/tex">T</script>) และความถี่ (<script type="math/tex">f</script>) เท่าไหร่ ?</p>
<p>วิธีการหาคาบและความถี่ของฟังก์ชันไซน์มีดังนี้ </p>
<p>กำหนดให้ 
<script type="math/tex; mode=display">
    f(t) = sin(\omega t),
  \; \omega = \frac{2\pi}{T} = 2\pi f.
</script>
โดยที่ <script type="math/tex">\omega</script> คือ ความถี่เชิงมุม (<strong>Angular Frequency</strong>) มีหน่วยเป็นเรเดียนต่อวินาที
(<strong>rad/s</strong>) มีคาบ <script type="math/tex">T</script> และความถี่ <script type="math/tex">f</script> ซึ่งเป็นส่วนกลับของคาบและมีหน่วยเป็นเฮิร์ตซ์ (<strong>Hz</strong>)</p>
<p>ในตัวอย่างนี้ ถ้าให้ <script type="math/tex">sin(2t) = sin(\omega t)</script> 
ดังนั้น <script type="math/tex">\omega = \frac{2\pi}{T} = 2</script>
หรือ <script type="math/tex">T = \pi</script> และ <script type="math/tex">f = 1/T = 1/\pi</script>
</p>
<p>หรืออาจใช้วิธีพิจารณาดังนี้ ถ้า <script type="math/tex">T</script> เป็นคาบของฟังก์ชัน ดังนั้นโดยนิยาม จะเขียนสมการได้ดังนี้</p>
<p>
<script type="math/tex; mode=display">\begin{align}
   f(t)    &= f(t+T) \\
   sin(2t) &= sin(2(t+T)) \\
           &= sin(2t + 2T) \\
           &= sin(2t)\, \underbrace{cos(2T)}_{=1}
            + cos(2t)\, \underbrace{sin(2T)}_{=0} \\
           &= \underbrace{ sin(2t) }_{f(t)} \\
\end{align}</script>
และได้สมการเป็นจริง เพราะว่า <script type="math/tex"> T=\pi </script> และทำให้ <script type="math/tex">cos(2T)=cos(2\pi)</script> ได้ค่าเท่ากับ 1
และ <script type="math/tex">sin(2T)=sin(2\pi)</script> ได้ค่าเท่ากับ 0</p>
<p>วิธีการคำนวณข้างบน มีการใช้สูตรสำหรับฟังก์ชันไซน์ดังนี้</p>
<p>
<script type="math/tex; mode=display">\begin{align}
 sin(A \pm B) &= sin(A) cos(B) \pm cos(A) sin(B) \\
\end{align}</script>
</p>
<p>&nbsp;</p>
<hr />
<p><strong>คำถาม:</strong> ถ้าให้ <script type="math/tex">f(t) = cos(\frac{t}{2} + \frac{\pi}{4})</script>
 ฟังก์ชันนี้มีคาบ (<script type="math/tex">T</script>) เท่าไหร่ ?</p>
<p>ถ้า <script type="math/tex">T=4\pi</script> จะทำให้
<script type="math/tex; mode=display">\begin{align}
  f(t) &= f(t+T) \\
       &= cos(\frac{t+T}{2} + \frac{\pi}{4}) \\
       &= cos(\frac{t}{2} + 2\pi + \frac{\pi}{4}) \\
       &= cos(\frac{t}{2} + \frac{\pi}{4})
          \,\underbrace{cos(2\pi)}_{1} 
        - sin(\frac{t}{2} + \frac{\pi}{4})
          \,\underbrace{sin(2\pi)}_{0} \\
        &= \underbrace{cos(\frac{t}{2} + \frac{\pi}{4})}_{f(t)} \\
\end{align}</script>
</p>
<p>วิธีการคำนวณข้างบน มีการใช้สูตรสำหรับฟังก์ชันโคไซน์ดังนี้</p>
<p>
<script type="math/tex; mode=display">\begin{align}
 cos(A \pm B) &= cos(A) cos(B) \mp sin(A) sin(B) \\
\end{align}</script>
</p>
<p>&nbsp;</p>
<p>ลองมาดูตัวอย่างการเขียนโค้ดเพื่อวาดรูปกราฟสำหรับฟังก์ชัน <script type="math/tex">f(t)</script> ด้วย <strong>MATLAB</strong>
และใช้ <a href="https://www.mathworks.com/products/symbolic.html"><strong>Symbolic Math Toolbox</strong></a></p>
<pre><code class="language-matlab">% Create a symbol (t is a symbol for a real value).
syms t real
% Define the function f(t).
f(t) = cos(t/2 + pi/4);
% Set the period T.
T = 4*pi;
% Check whether f(t) is a periodic function with period T.
disp( isAlways( f(t) == f(t+T)) ) % The output must be true (1).

% Set time time interval for function plot.
ts = [-6*pi, 6*pi];
% Plot f(t).
fplot( f(t), ts, 'linewidth', 1.2 ), 
grid on, xlabel('t'), ylabel('f(t)');
% Add a small margin of padding on the y-axis.
ylim padded;
% Set the title.
title( '$$f(t)=cos(\frac{t}{2}+\frac{\pi}{4})$$','interpreter','latex' )
% Create an array of ticks on the x-axis.
xticks = ts(1):pi:ts(end);
set( gca, 'XTick', xticks );
% Set the labels on the x-axis.
xlabels = replace( string(sym(xticks)), '*pi', '\pi' );
set( gca, 'XTickLabel', xlabels ); 
% Add vertical and horizontal dotted lines (red color).
xline( [-T 0 T],'--r' ); 
yline( double(f(0)), '--r', {'f(0)'} );
</code></pre>
<p><img alt="" src="plot-1.png" /></p>
<p>รูป: กราฟของฟังก์ชัน <script type="math/tex">f(t) = cos(\frac{t}{2}+\frac{\pi}{4})</script>
</p>
<p>&nbsp;</p>
<hr />
<p><strong>คำถาม:</strong> จงหาคาบของฟังก์ชัน <script type="math/tex">f(t) = 1 + 2sin(2t) + sin(3t)</script>
</p>
<p>
<script type="math/tex">f(t)</script> ได้จากผลบวกของค่าคงที่กับฟังก์ชันไซน์ ได้แก่ ฟังก์ชัน <script type="math/tex">sin(2t)</script> มีคาบ <script type="math/tex">T_1 = \pi</script> และ
ฟังก์ชัน <script type="math/tex">sin(3t)</script> มีคาบ <script type="math/tex">T_2 = \frac{2\pi}{3}</script>
</p>
<p>เนื่องจากอัตราส่วน <script type="math/tex">T_1/T_2 = 3/2</script> เป็นเลขตรรกยะ 
ดังนั้นคาบของฟังก์ชัน <script type="math/tex">f(t)</script> สามารถหาได้จาก <script type="math/tex">m \cdot T_1 = n \cdot T_2 = T</script>
โดยที่ <script type="math/tex">m</script> และ <script type="math/tex">n</script> เป็นเลขจำนวนเต็มบวกที่ทำให้สมการดังกล่าวเป็นจริง ซึ่งก็คือ
<script type="math/tex">m=2</script> และ <script type="math/tex">n=3</script> มีคาบของฟังก์ชัน <script type="math/tex">T=2\pi</script>
</p>
<p>ลองแทนค่า <script type="math/tex">T=2\pi</script> ลงในสมการต่อไปนี้</p>
<p>
<script type="math/tex; mode=display">\begin{align}
  f(t) &= f(t+T) \\
       &= 1 + 2sin(2(t+2\pi)) + sin(3(t+2\pi)) \\
       &= 1 + 2sin(2t + 4\pi) + sin(3t+6\pi) \\
       &= \underbrace{1 + 2sin(2t) + sin(3t)}_{f(t)} \\
\end{align}</script>
จะได้สมการที่เป็นจริง</p>
<p>&nbsp;</p>
<hr />
<p><strong>คำถาม:</strong> ฟังก์ชันที่ให้ค่าเป็นเลขเชิงซ้อน <script type="math/tex">f(t) = e^{-j\pi t}, j := \sqrt{-1}</script>
เป็นฟังก์ชันรายคาบหรือไม่ ?</p>
<p>ถ้า <script type="math/tex">T</script> เป็นคาบของฟังก์ชัน ดังนั้นโดยนิยาม จะเขียนสมการได้ดังนี้</p>
<p>
<script type="math/tex; mode=display">\begin{align}
  f(t) &= f(t+T) \\
       &= e^{-j\pi (t+T)} \\
       &= \underbrace{e^{-j\pi t}}_{f(t)} 
          \cdot \underbrace{e^{-j\pi T}}_{= 1} \\
\end{align}</script>
ถ้าจะให้ได้ <script type="math/tex">e^{-j\pi T} = 1</script> ค่าของ <script type="math/tex">T</script> จะต้องเท่ากับ 2  ซึ่งเป็นคาบของฟังก์ชันดังกล่าว</p>
<p>หากใช้สูตรของอ็อยเลอร์ (<strong>Euler's formula</strong>) 
<script type="math/tex; mode=display">
   e^{j x} := cos(x) + j\, sin(x), \; j := \sqrt{-1}
</script>
ก็สามารถเขียนฟังก์ชัน <script type="math/tex">f(t)</script> ได้ใหม่ ให้อยู่ในรูปของฟังก์ชันโคไซน์และไซน์ ซึ่งประกอบด้วยสองส่วนคือ
ฟังก์ชันที่ให้ค่าเป็นจำนวนจริง (<strong>Real-Valued Function</strong>) 
และฟังก์ชันที่ให้ค่าเป็นจำนวนจินตภาพ (<strong>Imaginary-Valued Function</strong>)</p>
<p>จากสูตรของอ็อยเลอร์ ให้แทนที่ <script type="math/tex">x</script> ด้วย <script type="math/tex">-\pi t</script> จะได้</p>
<p>
<script type="math/tex; mode=display">\begin{align}
   f(t) &= e^{-j\pi t} \\
        &= cos(-\pi t) + j\, sin(-\pi t) \\
        &= cos(\pi t) - j\, sin(\pi t) \\
\end{align}</script>
</p>
<p>ฟังก์ชัน <script type="math/tex">cos(\pi t)</script> และ <script type="math/tex">sin(\pi t)</script> มีคาบเหมือนกันคือ <script type="math/tex">T=2</script>
</p>
<p>ตัวอย่างการเขียนโค้ด <strong>MATLAB</strong> สำหรับเลขชี้กำลังเชิงซ้อน 
และเขียนใหม่ให้อยู่ในรูปของฟังก์ชันโคไซน์และไซน์ โดยใช้สูตรอ็อยเลอร์</p>
<pre><code class="language-matlab">syms t
f(t) = exp(-1i*pi*t);
rewrite( f(t), 'sincos' )
</code></pre>
<p><strong>ข้อสังเกต:</strong> สัญลักษณ์ <script type="math/tex">j = \sqrt{-1}</script> คือ <code>1i</code> สำหรับการเขียนโค้ดด้วย <strong>MATLAB</strong></p>
<p><img alt="" src="matlab_code-1.png" /></p>
<p>รูป: การเขียนโค้ด <strong>MATLAB</strong> และตัวอย่างเอาต์พุต</p>
<p>&nbsp;</p>
<hr />
<p><strong>คำถาม:</strong> จงเขียนฟังก์ชัน <script type="math/tex">f(t) = 1 + 2sin(2t) + cos(3t+\pi/6)</script>
ให้อยู่ในรูปผลรวมของฟังก์ชันเลขชี้กำลังเชิงซ้อน โดยใช้สูตรของอ็อยเลอร์</p>
<p>
<script type="math/tex; mode=display">\begin{align}
   e^{j x} &= cos(x) + j\, sin(x) \\
   e^{-j x} &= cos(x) - j\, sin(x) \\
   e^{j x} + e^{-j x} &= 2\, cos(x) \\
   e^{j x} - e^{-j x} &= 2j\, sin(x) \\
   cos(x) &= \frac{e^{j x} + e^{-j x}}{2} \\ 
   sin(x) &= \frac{e^{j x} - e^{-j x}}{2j} \\ 
   \frac{1}{j} &= \frac{1}{j} \cdot \frac{j}{j}
       = \frac{j}{(-1)} = -j \\
\end{align}</script>
</p>
<p>ฟังก์ชันเป็นคาบ <script type="math/tex">f(t)</script> ซึ่งมีคาบ <script type="math/tex">T_0:=2\pi</script> หรือ <script type="math/tex">\omega_0:=2\pi/T_0 = 1</script> สามารถเขียนใหม่ได้เป็น</p>
<p>
<script type="math/tex; mode=display">\begin{align}
  f(t) &= 1 + 2sin(2t) + cos(3t+\frac{\pi}{6}) \\
       &= e^{j0} 
       + 2\,\big[ \frac{e^{j2t} - e^{-j2t}}{2j} \big]
       + \big[ \frac{e^{j(3t+\frac{\pi}{6})} 
       + e^{-j(2t+\frac{\pi}{6})}}{2} \big] \\
       &=
       \frac{e^{-j\frac{\pi}{6}}}{2}\cdot e^{j(-3)t}
       + j\cdot e^{j(-2)t}
       + 1\cdot e^{j(0)t} 
       -j\cdot e^{j(+2)t} 
       + \frac{e^{j\frac{\pi}{6}}}{2}\cdot e^{j(+3)t} \\
       &=
       \frac{1}{4}(\sqrt{3} - j)\cdot e^{j(-3)t}
       + j\cdot e^{j(-2)t}
       + 1\cdot e^{j(0)t} 
       -j\cdot e^{j(+2)t} 
       + \frac{1}{4}(\sqrt{3} + j)\cdot e^{j(+3)t} \\
\end{align}</script>
</p>
<p>หรือเขียนใหม่ได้เป็น</p>
<p>
<script type="math/tex; mode=display">\begin{align}
  f(t) &= \mathbf{c_{-3}}\cdot e^{j(-3)t}
       + \mathbf{c_{-2}}\cdot e^{j(-2)t}
       + \mathbf{c_{0}}\cdot e^{j(0)t} 
       + \mathbf{c_{2}}\cdot e^{j(+2)t} 
       + \mathbf{c_{3}}\cdot e^{j(+3)t} \\
       &= \sum_{k=-3}^{3} \mathbf{c_k} 
          \cdot e^{j(\mathbf{k\omega_0})t}, \; \mathbf{\omega_0} := 1
\end{align}</script>
โดยที่มีค่าสัมประสิทธิ์คงตัวดังนี้
<script type="math/tex; mode=display">\begin{align}
  \mathbf{c_{-3}} &:= \frac{1}{4}(\sqrt{3} - j) \\
  \mathbf{c_{-2}} &:= j \\
  \mathbf{c_{-1}} &:= 0 \\
  \mathbf{c_{0}}  &:= 1 \\
  \mathbf{c_{1}}  &:= 0 \\
  \mathbf{c_{2}}  &:= -j \\
  \mathbf{c_{3}}  &:= \frac{1}{4}(\sqrt{3} + j) \\
\end{align}</script>
</p>
<p>&nbsp;</p>
<p>ตัวอย่างการเขียนโค้ด <strong>MATLAB</strong> สำหรับฟังก์ชัน <script type="math/tex">f(t)</script> 
และเขียนใหม่ให้อยู่ในรูปของฟังก์ชันเลขชี้กำลังเชิงซ้อน โดยใช้สูตรอ็อยเลอร์</p>
<pre><code class="language-matlab">syms t
f(t) = 1+2*sin(2*t)+cos(3*t+pi/6); 
f(t) = rewrite( f(t), 'exp' )
expand( f(t) )
</code></pre>
<p><strong>ข้อสังเกต:</strong> สัญลักษณ์ <script type="math/tex">j</script> จะถูกแทนที่ด้วย <code>1i</code> สำหรับการเขียนโค้ดด้วย <strong>MATLAB</strong></p>
<p><img alt="" src="matlab_code-2.png" /></p>
<p>รูป: การเขียนโค้ด <strong>MATLAB</strong> และตัวอย่างเอาต์พุต</p>
<p>&nbsp;</p>
<hr />
<h2 id="_1">&#9655; <strong>การสร้างฟังก์ชันเป็นคาบจากฟังก์ชันไม่เป็นคาบ</strong><a class="headerlink" href="#_1" title="Permanent link">#</a></h2>
<p>ถ้ามีฟังก์ชันไม่เป็นคาบ (<strong>Aperiodic Function</strong>) โดยใช้สัญลักษณ์เป็น <script type="math/tex">f_T(t)</script>
ที่มีค่าอยู่ในเฉพาะช่วงจำกัด (<strong>Limited Interval</strong>) เช่น <script type="math/tex">t \in [0,T), T > 0</script> 
และมีค่าเป็น 0 เมื่ออยู่นอกช่วงดังกล่าว ฟังก์ชันในลักษณะนี้สามารถนำมาสร้างฟังก์ชันเป็นคาบได้</p>
<p>
<script type="math/tex; mode=display">
   f(t) = \sum_{n=-\infty}^{\infty} f_T(t-nT), \; n \in \mathcal{Z}
\; (\mbox{integers})
</script>
</p>
<p><strong>ตัวอย่าง:</strong> การสร้างฟังก์ชันเป็นคาบรูปสี่เหลี่ยม (<strong>Rectangular Waveform</strong>)</p>
<p>ลองมาดูตัวอย่างฟังก์ชัน <script type="math/tex">f_T(t)</script> ที่มีลักษณะเป็นพัลส์ (<strong>Pulse</strong>) 
และสามารถสร้างได้โดยใช้ฟังก์ชันเป็นช่วง (<strong>Piecewise Function</strong>) ดังนี้</p>
<p>
<script type="math/tex; mode=display">
  f_T(t) = \begin{cases}
     1, &  0 \leq t < \alpha T \\
     0, &  \mbox{ otherwise } \\ 
  \end{cases}
</script>
โดยที่ <script type="math/tex">\alpha</script> เป็นค่าคงที่ และ <script type="math/tex">0 < \alpha < 1</script> 
ซึ่งเป็นอัตราส่วนระหว่างความกว้างพัลส์กับคาบของฟังก์ชัน</p>
<p>ถ้านำฟังก์ชัน <script type="math/tex">f_T(t)</script> มาสร้างเป็นฟังก์ชัน <script type="math/tex">f(t)</script> ที่มีคาบเท่ากับ <script type="math/tex">T</script> 
ก็จะได้ฟังก์ชันที่มีลักษณะเหมือนคลื่นสัญญาณสี่เหลี่ยม (<strong>Rectangular Wave</strong>)</p>
<p>ถัดไปเป็นโค้ด <strong>MATLAB</strong> ที่สาธิตการสร้างฟังก์ชัน <script type="math/tex">f(t)</script> โดยให้ <script type="math/tex">T=1</script> สำหรับการวาดรูปกราฟ
<script type="math/tex">f(t)</script> และ <script type="math/tex">f_T(t)</script>
</p>
<pre><code class="language-matlab">% Clear figures, variables and command outputs.
clf; clc; clearvars;
% Define t as a symbol for any real number.
syms t real 
% Set the period (T) of the function.
T=1; 
% Define alpha as a symbol 
syms alpha 
assume( 0 &lt; alpha &amp; alpha &lt; 1 )
% Define f_T(t) function
f_T(t) = piecewise( 0 &lt;= t &amp; t &lt; alpha*T, 1, 0 ); 
% Set the time interval for calculation.
ts = [-2*T, 3*T];
% Construct a periodic function f(t) from f_T(t).
f = 0;
for t_shift=ts(1):T:ts(end)
  f = f + subs( f_T, t, (t-t_shift) );   
end
% Plot f(t) and f_T(t) with alpha = 1/2.
hold on;
fplot( subs(f,alpha,1/2), ts, 'b', 'linewidth', 1.2 )
fplot( subs(f_T,alpha,1/2), ts, '--r' , 'linewidth', 1.2 )
ylim padded, grid on, xlabel('t'), ylabel('f(t)')
hold off;
</code></pre>
<p><img alt="" src="plot-2.png" /></p>
<p>รูป: การแสดงรูปกราฟของฟังก์ชัน (<script type="math/tex">T=1</script> และ <script type="math/tex">\alpha=0.5</script>) เป็นคาบด้วย <strong>MATLAB</strong></p>
<hr />
<p><strong>ตัวอย่าง:</strong> การสร้างฟังก์ชันเป็นคาบที่มีรูปคลื่นฟันเลื่อย (<strong>Sawtooth Waveform</strong>)</p>
<p>กำหนดให้ฟังก์ชัน <script type="math/tex">f_T(t)</script> เป็นฟังก์ชันเป็นช่วงที่มีลักษณะเป็นเส้นตรงเริ่มต้นที่จุด (0,0) 
สำหรับช่วง <script type="math/tex">t \in [0,T)</script> 
ตามรูปแบบต่อไปนี้ และนำมาใช้สร้างฟังก์ชันเป็นคาบ <script type="math/tex">f(t)</script> และมีคาบเท่ากับ <script type="math/tex">T</script>
</p>
<p>
<script type="math/tex; mode=display">\begin{align}
  f_T(t) &= \begin{cases}
     \frac{A}{T} t, & 0 \leq t < T \\
     0, & \mbox{ otherwise } \\ 
  \end{cases} \\
  f(t) &= \sum_{n=-\infty}^{\infty} f_T(t - nT) 
\end{align}</script>
โดยที่ <script type="math/tex">A</script> เป็นค่าคงที่และมีค่าเป็นบวก ดังนั้นฟังก์ชันนี้จะมีค่าอยู่ระหว่าง <script type="math/tex">0</script> ถึง <script type="math/tex">A</script>
</p>
<p>ฟังก์ชันเป็นคาบ <script type="math/tex">f(t)</script> นี้ สามารถนำไปสร้างฟังก์ชันเป็นคาบอื่นได้ เช่น เกิดจากการเลื่อนเวลา
(<strong>Time Shifting</strong>) การกลับด้านของเวลา (<strong>Time Reversal</strong>) 
การบวกหรือลบด้วยค่าคงที่ เป็นต้น</p>
<p>
<script type="math/tex; mode=display">\begin{align}
   g(t) &= f(t-\frac{T}{2}) \\
   h(t) &= f(-t) - \frac{A}{2} \\
\end{align}</script>
โดยที่ฟังก์ชัน <script type="math/tex">g(t)</script> เกิดจากการเลื่อนเวลาของฟังก์ชัน <script type="math/tex">f(t)</script> ไปทางขวาเป็นระยะเวลาเท่ากับ <script type="math/tex">\frac{T}{2}</script>
และฟังก์ชัน <script type="math/tex">h(t)</script> เกิดจากการกลับด้านเชิงเวลาของฟังก์ชัน <script type="math/tex">f(t)</script> แล้วลบด้วยค่าคงที่</p>
<p>ตัวอย่างการเขียนโค้ด <strong>MATLAB</strong> มีดังนี้</p>
<pre><code class="language-matlab">% Clear figures, variables and command outputs.
clf; clc; clearvars;
% Define a symbol for any real numbers.
syms t real
% Set the amplitude and the period of the function.
A=1; T=1; 
% Define f_T(t) function
f_T(t) = piecewise( 0 &lt; t &amp; t &lt; T, A*t/T, 0 ); 
% Set the time interval for calculation.
ts = [-2*T, 2*T];
% Construct a periodic function f(t) from f_T(t).
f = 0;
for t_shift=ts(1)-T:T:ts(end)+T
  f = f + subs(f_T,t,(t-t_shift));   
end 
% Define g(t) and h(t)
g(t) = f(t - T/2);
h(t) = f(-t) - A/2;
% Plot f(t) and g(t) 
fig = figure();
subplot(3,1,1); fplot( f, ts, 'linewidth', 1.2 ),
grid on, xlabel('t'), ylabel('f(t)'), 
pbaspect([1 0.2 1]), ylim padded 
subplot(3,1,2); fplot( g, ts, 'linewidth', 1.2 ),
grid on, xlabel('t'), ylabel('g(t)'), 
pbaspect([1 0.2 1]), ylim padded
subplot(3,1,3); fplot( h, ts, 'linewidth', 1.2 ),
grid on, xlabel('t'), ylabel('h(t)'), 
pbaspect([1 0.2 1]), ylim padded
</code></pre>
<p><img alt="" src="plot-3.png" /></p>
<p>รูป: การแสดงรูปกราฟของฟังก์ชันเป็นคาบ <script type="math/tex">f(t)</script>, <script type="math/tex">g(t)</script> และ <script type="math/tex">h(t)</script> 
ได้เลือกใช้ค่า <script type="math/tex">T=1</script> และ <script type="math/tex">A=1</script>
</p>
<hr />
<p><strong>ตัวอย่าง:</strong> การสร้างฟังก์ชันเป็นคาบที่มีรูปคลื่นสี่เหลี่ยม (<strong>Square Waveform</strong>)</p>
<p>ตัวอย่างนี้สาธิตการใช้คำสั่ง <a href="https://www.mathworks.com/help/matlab/ref/mod.html"><code>mod()</code></a> ของ <strong>MATLAB</strong>
และเป็นอีกวิธีหนึ่งในการนำไปใช้ในการสร้างฟังก์ชันเป็นคาบ</p>
<p>กำหนดให้ <script type="math/tex">f(t)</script> เป็นฟังก์ชันรูปคลื่นสี่เหลี่ยมที่มีค่าบวกและลบ และให้ฟังก์ชัน <script type="math/tex">g(t)</script> 
เกิดจากการเลื่อนเวลาฟังก์ชัน <script type="math/tex">f(t)</script> ไปทางซ้าย และเลื่อนขึ้นในแนวตั้ง (บวกด้วยค่า <strong>DC Offset</strong>)</p>
<p>
<script type="math/tex; mode=display">\begin{align}
  f_T(t) &= \begin{cases}
     +A, & 0 \leq t < \frac{T}{2} \\
     -A, & \frac{T}{2} \leq t < T \\ 
  \end{cases} \\[1em]
  f(t) &= f_T( \,mod(t,T)\, )\\ 
  g(t) &= A + f(t + \frac{T}{4} ) \\
\end{align}</script>
โดยที่ <script type="math/tex">A</script> เป็นค่าคงที่ และฟังก์ชันมีค่าต่ำสุดและสูงสุดอยู่ในช่วง <script type="math/tex">[-A,+A]</script>
</p>
<p>ตัวอย่างการเขียนโค้ด <strong>MATLAB</strong> มีดังนี้</p>
<pre><code class="language-matlab">% Clear figures, variables and command outputs.
clf; clc; clearvars;
% Define a symbol for any real numbers.
syms t real
% Set the amplitude and the period of the function.
A=5; T=2; 
% Define f_T(t) function
f_T(t) = piecewise( 0 &lt; t &amp; t &lt; T/2, A, -A ); 
% Set the time interval for calculation.
ts = [-2*T, 2*T];
% Create a periodic function f(t) from f_T(t) using mod().
f(t) = f_T( mod(t,T) );
% Define g(t) 
g(t) = A + f(t + T/4);
% Plot f(t) and g(t) 
fig = figure();
subplot(2,1,1); fplot( f, ts, 'linewidth', 1.2 ),
grid on, xlabel('t'), ylabel('f(t)'), ylim padded 
subplot(2,1,2); fplot( g, ts, 'linewidth', 1.2 ),
grid on, xlabel('t'), ylabel('g(t)'), ylim padded
</code></pre>
<p><img alt="" src="plot-4.png" /></p>
<p>รูป: การแสดงรูปกราฟของฟังก์ชันเป็นคาบ <script type="math/tex">f(t)</script> และ <script type="math/tex">g(t)</script>
ได้เลือกใช้ค่า <script type="math/tex">T=2</script> และ <script type="math/tex">A=5</script>
</p>
<p>การเขียนโค้ด <strong>MATLAB</strong> เพื่อวาดรูปกราฟของฟังก์ชันโดยไม่สร้างฟังก์ชันเชิงสัญลักษณ์ มีแนวทางดังนี้
เริ่มต้นด้วยการสร้างอาร์เรย์ <code>ts</code> ของค่าตัวเลขสำหรับตัวแปร <script type="math/tex">t</script> ตามจำนวนที่ต้องการ (<code>N</code>) ในช่วงตัวเลขที่กำหนดไว้
โดยใช้คำสั่ง <code>linspace()</code> ของ <strong>MATLAB</strong></p>
<p>ถัดไปมีการสร้างฟังก์ชันใน <strong>MATLAB</strong>  แบบที่เรียกว่า <strong>Anonymous Function</strong>
ชื่อ <code>fs</code> และ <code>gs</code> เพื่อใช้ในการคำนวณค่าของฟังก์ชัน <script type="math/tex">f(t)</script> และ <script type="math/tex">g(t)</script> สำหรับค่าตัวเลขจากอาร์เรย์ <code>ts</code>
แล้วนำไปใช้กับคำสั่ง <code>stem()</code> เพื่อวาดรูปกราฟแบบ <strong>Stem Plot</strong></p>
<pre><code class="language-matlab">% Clear figures, variables and command outputs.
clf; clc; clearvars;
% Set the amplitude and the period.
A=5; T=2; 
% Set the number of time steps.
N=50; 
% Create an array of N time steps for t.
ts = linspace(-2*T,2*T,N);
% Create anonymous functions for f(t) and g(t)
fs = @(t) A*(2*(mod(t,T) &lt; T/2)-1);
gs = @(t) A + fs(t+T/4);
% Plot the samples of f(t) and g(t)
fig = figure();
subplot(2,1,1); stem( ts, fs(ts), 'linewidth', 1.2 ),
grid on, xlabel('t'), ylabel('f(t)'), ylim padded 
subplot(2,1,2); stem( ts, gs(ts), 'linewidth', 1.2 ),
grid on, xlabel('t'), ylabel('g(t)'), ylim padded 
</code></pre>
<p><img alt="" src="plot-5.png" /></p>
<p>รูป: การแสดงรูปกราฟของฟังก์ชันเป็นคาบ <script type="math/tex">f(t)</script> และ <script type="math/tex">g(t)</script> โดยใช้รูปแบบ <strong>Stem Plot</strong>
ได้เลือกใช้ค่า <script type="math/tex">T=2</script> และ <script type="math/tex">A=5</script>
</p>
<p>ข้อสังเกต: ถ้าหากลองเปลี่ยนจากคำสั่ง <code>stem()</code> เป็น <code>plot()</code> และเพิ่มจำนวนข้อมูลสำหรับอาร์เรย์ <code>ts</code>
โดยการเพิ่มค่า <code>N</code> เช่น จาก <code>50</code> เป็น <code>500</code> จะได้รูปกราฟดูเหมือนกับรูปตัวอย่างที่แล้ว</p>
<p>&nbsp;</p>
<hr />
<h2 id="_2">&#9655; <strong>กล่าวสรุป</strong><a class="headerlink" href="#_2" title="Permanent link">#</a></h2>
<p>บทความนี้ได้นำเสนอ ตัวอย่างการเขียนโค้ด <strong>MATLAB</strong> และใช้
<strong>Symbolic Math Toolbox</strong> เพื่อสร้างฟังก์ชันและแสดงรูปกราฟของฟังก์ชันเป็นคาบ</p>
<p>&nbsp;</p>
<hr />
<p><em>This work is licensed under a</em> <strong><em>Creative Commons Attribution-ShareAlike 4.0 International License</em></strong>.</p>
<p>Created: 2022-10-30 | Last Updated: 2022-11-03</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2021-2025 IoT Engineering Education, Bangkok/Thailand</a></p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
