<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="RSP">
        <link rel="canonical" href="https://iot-kmutnb.github.io/blogs/rpi-rp253x/">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>แนะนำชิปไมโครคอนโทรลเลอร์ Raspberry Pi RP253x SoC - IoT Engineering Education</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/fontawesome.min.css" rel="stylesheet">
        <link href="../css/brands.min.css" rel="stylesheet">
        <link href="../css/solid.min.css" rel="stylesheet">
        <link href="../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../css/extra.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/c.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/cpp.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/arduino.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/javascript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/typescript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/json.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/vhdl.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/verilog.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/bash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/text.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/plaintext.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/matlab.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/julia.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/go.min.js"></script>
        <script>hljs.highlightAll();</script>
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-966FQ6RN6W"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', "G-966FQ6RN6W");
        </script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">IoT Engineering Education</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../about/" class="nav-link">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#raspberry-pi-rp253x-soc" class="nav-link">แนะนำชิปไมโครคอนโทรลเลอร์ Raspberry Pi RP253x SoC</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#rp253x-pico-2" class="nav-link">&#9655; แนะนำชิป RP253x และบอร์ด Pico 2</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#rp2350" class="nav-link">&#9655; ข้อมูลจำเพาะเกี่ยวกับชิป RP2350</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#rp2350_1" class="nav-link">&#9655; บอร์ดไมโครคอนโทรลเลอร์ที่ใช้ชิป RP2350</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#rp235x" class="nav-link">&#9655; ซอฟต์แวร์สำหรับการเขียนโค้ด RP235x</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#arduino-core" class="nav-link">&#9655; การติดตั้งและใช้งาน Arduino Core</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#pico-2-pico-2-w" class="nav-link">&#9655; แหล่งจ่ายไฟเลี้ยงสำหรับบอร์ด Pico 2 / Pico 2 W</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_1" class="nav-link">&#9655; กล่าวสรุป</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="raspberry-pi-rp253x-soc">แนะนำชิปไมโครคอนโทรลเลอร์ Raspberry Pi RP253x SoC<a class="headerlink" href="#raspberry-pi-rp253x-soc" title="Permanent link">#</a></h1>
<hr />
<h2 id="rp253x-pico-2">&#9655; <strong>แนะนำชิป RP253x และบอร์ด Pico 2</strong><a class="headerlink" href="#rp253x-pico-2" title="Permanent link">#</a></h2>
<p>ในเดือนสิงหาคม ค.ศ. 2024 ได้มีการเปิดตัวชิปไมโครคอนโทรลเลอร์ 
<a href="https://www.raspberrypi.com/products/rp2350/"><strong>RP2350</strong></a>
ซึ่งจัดอยู่ในซีรีย์ <strong>RP235x</strong> ของบริษัท <strong><a href="http://www.raspberrypi.org/">Raspberry Pi Ltd.</a></strong>
ในเมือง <strong>Cambridge (UK)</strong> และถือว่าเป็นรุ่นที่สองถัดจากชิปรุ่น <strong>RP2040</strong>
ที่ได้มีการเปิดเผยครั้งแรกในเดือนมกราคม ค.ศ. 2021</p>
<p>นอกจากนั้นแล้วทางบริษัทยังได้เปิดตัวบอร์ดไมโครคอนโทรลเลอร์ที่มีชื่อว่า 
<a href="https://www.raspberrypi.com/documentation/microcontrollers/pico-series.html"><strong>Raspberry Pi Pico 2</strong></a> ที่ใช้ชิปรุ่น <strong>RP2350</strong> 
บอร์ด <strong>Pico 2 (RP2350)</strong> มีขนาดของบอร์ดและขาตรงกับบอร์ด <strong>Pico (RP2040)</strong> 
แต่ยังคงมีการเลือกใช้คอนเนกเตอร์ <strong>Micro USB</strong> (ไม่ได้เปลี่ยนเป็น <strong>Type-C</strong>) สำหรับการจ่ายไฟเลี้ยง
และเชื่อมต่อกับคอมพิวเตอร์ของผู้ใช้ และยังไม่มีการเพิ่มปุ่มกดรีเซตที่ขา <strong>RUN</strong> </p>
<p>บอร์ด <strong>Pico 2</strong> ยังไม่มีโมดูล <strong>WiFi/BLE</strong> 
แต่บอร์ดรุ่น <a href="https://www.raspberrypi.com/documentation/microcontrollers/pico-series.html#raspberry-pi-pico-2-w"><strong>Pico 2 W</strong></a>
มีการใช้งานโมดูล <strong>Infineon 43439 (2.4GHz 802.11n Wi-Fi and Bluetooth 5.2)</strong> เหมือนบอร์ด <strong>Pico W</strong></p>
<p>ในเชิงเปรียบเทียบ <strong>RP2040</strong> มีตัวประมวลผลเป็นซีพียูขนาด 32 บิต แบบ 
<strong>Dual-Core, 32-bit Arm Cortex M0+</strong> ทำงานด้วยความถี่สูงสุด <strong>150MHz</strong>
(แต่ใช้ความถี่แบบ <strong>Overclock</strong> ได้อีก)
ในขณะที่ <strong>RP235x</strong> ก็ยังคงเลือกใช้สถาปัตยกรรมแบบ <strong>Dual-Core</strong> แต่ใช้สถาปัตยกรรมของซีพียูรุ่นใหม่กว่า</p>
<p>ชิปในตระกูล <strong>RP235x</strong> ซึ่งผลิตโดยใช้เทคโนโลยีเซมิคอนดักเตอร์ขนาด 40 นาโนเมตร
(โดยให้บริษัท <strong>IMEC</strong> ทำชิปต้นแบบ และบริษัท <strong>TSMC</strong> ผลิตจำนวนมาก) จำแนกออกไปเป็นตัวเลือกย่อยได้ดังนี้</p>
<ol>
<li>
<p><strong>RP2350A</strong> และ <strong>RP2350B</strong> (ไม่มีหน่วยความจำ <strong>Flash</strong> อยู่ภายในชิป)
และมีรุ่นย่อยคือ <strong>A</strong> และ <strong>B</strong> แตกต่างกันที่ตัวถัง (<strong>IC Package</strong>) และ จำนวนขา  <strong>GPIOs</strong></p>
<ul>
<li><strong>A</strong>: ใช้ตัวถังแบบ <strong>QFN60</strong> (<strong>7x7mm^2</strong>, <strong>30 GPIOs</strong>) </li>
<li><strong>B</strong>: ใช้ตัวถังแบบ <strong>QFN80</strong> (<strong>10x10mm^2</strong>, <strong>48 GPIOs</strong>)</li>
</ul>
</li>
<li>
<p><strong>RP2354A และ RP2354B</strong> เป็นรุ่นที่มีหน่วยความจำแบบ <strong>Flash</strong> ขนาด <strong>2MB</strong> 
รวมอยู่ในชิปเดียวกัน (เป็นการออกแบบและผลิตชิปในรูปแบบที่เรียกว่า <strong>SiP: Stacked-in-Package</strong>)</p>
</li>
</ol>
<p>หากพิจารณาพื้นที่ภายในชิปสำหรับการสร้างวงจรด้วยสารกึ่งตัวนำ หรือ <strong>Die Size</strong>
ชิป <strong>RP2350</strong> มีขนาด <strong>5.3mm^2</strong> เปรียบเทียบกับ <strong>2mm^2</strong> สำหรับชิป
<strong>RP2040</strong> (ใช้เทคโนโลยีการผลิต <strong>40nm</strong> เหมือนกัน) ดังนั้นจึงมีขนาดของวงจรภายในที่ใหญ่กว่า</p>
<p>รหัสของชิป <strong>RP2354 A/B</strong> มีความหมายดังนี้</p>
<ul>
<li><code>2</code>: Number of CPU Cores</li>
<li><code>3</code>: Arm-Cortex M33 (default)</li>
<li><code>5</code>: On-chip SRAM = log2( 520KB / 16KB )</li>
<li><code>4</code>: On-chip Flash = log2( 2048KB / 128KB )</li>
</ul>
<p>บอร์ด <strong>Pico 2</strong> ใช้ชิป <strong>RP2350A</strong> และมีชิปหน่วยความจำแฟลชภายนอก (<strong>Quad-SPI flash</strong>) ขนาด <strong>4MB</strong></p>
<p><img alt="" src="pico2_pico2w.jpg" /></p>
<p>รูป: บอร์ด <strong>Pico 2</strong> และ <strong>Pico 2 W</strong></p>
<p><img alt="" src="pico2_pinout.jpg" /></p>
<p>รูป: แผนผังแสดงตำแหน่งขาของบอร์ด <strong>Pico 2</strong></p>
<p><img alt="" src="pico2w_pinout.jpg" /></p>
<p>รูป: แผนผังแสดงตำแหน่งขาของบอร์ด <strong>Pico 2 W</strong></p>
<p>แรงดันไฟเลี้ยงสำหรับบอร์ด <strong>Pico 2 / Pico 2 W</strong></p>
<ul>
<li>จุดอ้างอิง <code>VBUS</code> <ul>
<li>ตรงกับขา  <code>VBUS</code> ของบอร์ด</li>
<li>ใช้รับแรงดันไฟเลี้ยง <strong>5V ± 10%</strong> ซึ่งได้จากคอนเนกเตอร์ <strong>micro-USB</strong> </li>
</ul>
</li>
<li>จุดอ้างอิง<code>VSYS</code> <ul>
<li>ตรงกับขา  <code>VSYS</code> ของบอร์ด</li>
<li>ได้รับแรงดันไฟฟ้าอินพุตมาจาก <code>VBUS</code> ต่อผ่านไดโอดแบบ <strong>Schottky</strong></li>
<li>ใช้สำหรับแรงดันไฟเลี้ยงในช่วงได้ในช่วง <strong>1.8V ~ 5.5V</strong> แล้วนำไปใช้กับวงจรสวิตชิง (<strong>SMPS</strong>)</li>
</ul>
</li>
</ul>
<p>วงจร <strong>Buck-Boost SMPS (RT6150)</strong> ใช้สำหรับสร้างแรงดันไฟเลี้ยง <strong>3.3V</strong> (<code>3V3</code>) และวงจรนี้มีขา
<code>3V3_EN</code> ควบคุมการทำงานของวงจรดังกล่าว ขานี้ต่อผ่านตัวต้านทาน 100kΩ ไปยัง <code>VSYS</code>
ถ้าต่อขานี้ไปยัง <strong>GND</strong> จะปิดการจ่ายไฟเลี้ยงให้บอร์ด</p>
<p><img alt="" src="pico2_power_supply.jpg" /></p>
<p>รูป: วงจร <strong>Power Supply</strong> ของบอร์ด <strong>Pico 2</strong></p>
<p>ขา <strong>GPIO</strong> ของบอร์ด <strong>Pico 2</strong> ที่เกี่ยวข้องกับวงจร <strong>SMPS</strong> ได้แก่</p>
<ul>
<li><code>GPIO24</code>: ใช้สำหรับตรวจสอบระดับแรงดันไฟฟ้า <code>VBUS</code> โดยต่อผ่านวงจรแบ่งแรงดัน (<strong>Voltage Divider</strong>):
 <script type="math/tex">VBUS \cdot 10k\Omega/(10k\Omega + 5.6k\Omega)</script>
</li>
<li><code>GPIO23</code>: ใช้สำหรับการเลือกโหมดการทำงานของ <strong>RT6150 (SMPS)</strong> โดยต่อกับขา <code>PS</code><ul>
<li><code>PS=0</code>: Pulse Frequency Modulation (PFM) mode (default) มีตัวต้านทาน 100kΩ pulldown</li>
<li><code>PS=1</code>: Pulse Width Modulation (PWM) mode</li>
</ul>
</li>
<li><code>GPIO29</code>: ใช้ในการวัดระดับแรงดันไฟฟ้าของ <code>VSYS</code> โดยต่อกับ <strong>ADC</strong> ช่องอินพุต <code>ADC3</code></li>
</ul>
<p>&nbsp;</p>
<hr />
<h2 id="rp2350">&#9655; <strong>ข้อมูลจำเพาะเกี่ยวกับชิป RP2350</strong><a class="headerlink" href="#rp2350" title="Permanent link">#</a></h2>
<p>ลองมาศึกษาข้อมูลจำเพาะเกี่ยวกับชิป <strong>RP2350</strong> ดังนี้</p>
<ul>
<li>มีสถาปัตยกรรมแบบ <strong>Symmetric dual-core, dual-architecture</strong><ul>
<li><strong>Dual-core: Core 0 &amp; Core 1</strong></li>
<li><strong>Dual-architecture: Arm Cortex-M33 &amp; Hazard3 RISC-V (32-bit)</strong></li>
</ul>
</li>
<li><strong>RP2350</strong> มีซีพียูดังนี้<ul>
<li><strong>Arm Cortex-M33</strong>: 150MHz 3-stage pipeline, 4.09 CoreMark/MHz</li>
<li><strong>RISC-V <a href="https://github.com/Wren6991/Hazard3">Hazard3</a></strong>: 150MHz, 3-stage pipeline, 3.81 CoreMark/MHz</li>
</ul>
</li>
<li>ถ้าใช้ซีพียู ** Arm Cortex-M33<strong> ก็สามารถใช้คำสั่งได้สำหรับ </strong>single-precision floating-point arithmetic** (<code>hard-fp</code>)</li>
<li>ชิป <strong>RP2350</strong> มีวงจร <strong>On-chip Switching Regulator</strong> อยู่ภายในชิป เพื่อสร้างแรงดันไฟเลี้ยง <strong>1.1V</strong> สำหรับ <strong>Core Voltage</strong> จากแรงดันไฟเลี้ยง <strong>3.3V</strong></li>
<li>ความถี่ในการประมวลผลของซีพียู: <strong>48MHz ~ 150MHz</strong> (แต่สามารถใช้ความถี่สูงกว่ากำหนดได้ หรือ <strong>Overclock</strong>)</li>
<li>มีหน่วยความจำ <strong>SRAM: 520KB</strong> (มากกว่า <strong>SRAM</strong> ของ <strong>RP2040</strong> ซึ่งมีขนาด ** 264KB**)</li>
<li>มีหน่วยความจำแบบ <strong>ROM: 32KB</strong> ซึ่งภายในมีเฟิร์มแวร์สำหรับ <strong>UART &amp; USB (UF2) Bootloaders</strong></li>
<li>มีหน่วยความจำแบบ <strong>OTP (anti-fuse, One-Time Programmable): 8KB</strong></li>
<li>ต้องใช้ชิปหน่วยความจำภานอกสำหรับ <strong>External Flash</strong> (Primary Flash) ขนาดสูงสุด <strong>16MB</strong></li>
<li>เขียนอ่านข้อมูลด้วยบัส <strong>Serial SPI</strong> รองรับการเชื่อมต่อแบบ <strong>Dual SPI / Quad SPI (QSPI)</strong></li>
<li>สามารถต่อไอซี <strong>Secondary Serial Flash</strong> หรือหน่วยความจำ <strong>External Serial RAM (PSRAM)</strong> ได้อีก </li>
<li>ถ้าใช้ชิป <strong>Arm Cortex-M33</strong> ก็สามารถใช้งานฟังก์ชันของ <strong>Arm TrustZone</strong> เช่น <ul>
<li><strong>Secure Boot</strong> ซึ่งช่วยให้การบูทระบบมีความปลอดภัย และป้องกันการอ่านหรือเขียนข้อมูลที่ไม่ปลอดภัย</li>
<li><strong>SHA-256 accelerator</strong> ซึ่งเป็นวงจรสำหรับการคำนวณ <strong>Secure Hash</strong></li>
<li><strong>TRNG (true random number generator)</strong> ซึ่งเป็นวงจรสร้างเลขสุ่ม</li>
</ul>
</li>
<li>มีวงจรรอบข้างซีพียู (<strong>On-chip Peripherals</strong>) อย่างเช่น<ul>
<li><strong>2× UARTs</strong></li>
<li><strong>2× SPI controllers</strong></li>
<li><strong>2× I2C controllers</strong></li>
<li><strong>24× PWM channels</strong></li>
<li><strong>3× 12-bit ADC</strong></li>
</ul>
</li>
<li>ขา <strong>GPIO</strong> ใช้กับแรงดันได้ในช่วง <strong>1.8V ~ 3.3V</strong> (<strong>IO Voltage</strong>)
แต่บอร์ด <strong>Pico 2 / Pico 2 W</strong> มีแรงดันไฟฟ้า <strong>IO voltage</strong> อยู่ที่ระดับ <strong>3.3V</strong></li>
<li>รองรับการเชื่อมต่อด้วย <strong>USB 1.1 (Controller + PHY)</strong></li>
<li>มีวงจรที่เรียกว่า <strong>Programmable IO (PIO) blocks</strong> จำนวน 3 ชุด <code>PIO0</code> ~ <code>PIO2</code>
ในขณะที่ชิป <strong>RP2040</strong> มี <strong>PIO</strong> เพียง 2 ชุด</li>
</ul>
<p>ในมุมมองของการออกแบบสถาปัตยกรรมชิป มีประเด็นที่น่าสนใจดังนี้</p>
<ul>
<li>มีตัวประมวลผล 2 ชุด ทำงานได้เหมือนกันและขนานกันได้ (ในเอกสารของผู้ผลิต เรียกว่า <strong>CPU Sockets</strong>)
แต่ละชุด มีซีพียู <strong>Arm Cortex-M33 CPU</strong> กับ <strong>RISV-C CPU</strong> อยู่ด้วยกัน (คู่กัน)</li>
<li>ทีมงานออกแบบ ได้ใส่ <strong>RISC-V CPU Core (open ISA)</strong> มาเป็นตัวเลือกให้ลองใช้งานคู่กับ 
<strong>Arm-Cortex-M33</strong> และลองเปรียบเทียบประสิทธิภาพ</li>
<li>โดยปรกติ หลังจากรีเซตชิป และมีการเลือกรันโค้ด โดยใช้ <strong>Arm-Cortex-M33</strong> ในแต่ละ <strong>CPU Socket</strong> 
ซีพียู <strong>RISC-V</strong> ก็จะไม่ทำงาน และอยู่ในโหมดการทำงานที่ถือว่าใช้พลังงานต่ำมาก ๆ</li>
<li>การเลือกใช้ซีพียูอันไหนในแต่ละ <strong>CPU Socket</strong> จะมีการตรวจสอบหลังจากรีเซตระบบเท่านั้น
และชุดคำสั่งของโปรแกรมในหน่วยความจำแฟลช ที่จะใช้จะต้องตรงกับสถาปัตยกรรมที่เลือกใช้ด้วย</li>
</ul>
<hr />
<h2 id="rp2350_1">&#9655; <strong>บอร์ดไมโครคอนโทรลเลอร์ที่ใช้ชิป RP2350</strong><a class="headerlink" href="#rp2350_1" title="Permanent link">#</a></h2>
<p>นอกจากบอร์ด <strong>Pico 2</strong> แล้วยังมีบริษัทอื่นที่ได้พัฒนาบอร์ดและใช้ชิป <strong>RP2350</strong> 
อีกหลายบริษัท (<strong>Third-party RP2350-based boards</strong>) มีตัวอย่างเช่น</p>
<ul>
<li><strong>Tiny2350</strong> (Pimoroni Ltd.)</li>
<li><strong>Metro RP2350, Feather RP2350</strong> (Adafruit Industries)</li>
<li><strong>W5500-EVB-Pico2, W6100-EVB-Pico2</strong> (WIZnet Co. Ltd.)</li>
<li><strong>Pro Micro RP2350</strong> (Sparkfun)</li>
<li><a href="https://ilabs.se/product/challenger-rp2350-wifi-ble/"><strong>Challenger+ RP2350 WiFi6/BLE5</strong></a> (iLabs)</li>
<li><a href="https://wiki.seeedstudio.com/getting-started-xiao-rp2350/"><strong>XIAO RP2350</strong></a> (Seeed Studio)</li>
</ul>
<p>บอร์ด <strong>Sparkfun Pro Micro RP2350</strong> มีการใส่ชิปหน่วยความจำ <strong>PSRAM</strong> มาให้ด้วย
หรือบอร์ดของบางบริษัทที่มีการใส่โมดูล <strong>ESP32-C6</strong> ช่วยทำให้ <strong>RP2350</strong> สามารถสื่อสารไร้สายด้วย <strong>WiFi/BLE</strong> ได้ด้วย</p>
<hr />
<h2 id="rp235x">&#9655; <strong>ซอฟต์แวร์สำหรับการเขียนโค้ด RP235x</strong><a class="headerlink" href="#rp235x" title="Permanent link">#</a></h2>
<p>สำหรับการเขียนโค้ด <strong>C/C++</strong> ผู้ใช้จะต้องติดตั้งและใช้งานซอฟต์แวร์ที่มีชื่อว่า
<a href="https://github.com/raspberrypi/pico-sdk"><strong>Pico C/C++ SDK</strong></a> (<strong>v2.0.0+</strong>)
(<a href="https://www.raspberrypi.com/documentation/microcontrollers/c_sdk.html"><strong>Online Doc</strong></a>)
และสามารถใช้งานร่วมกับ  <strong>VS Code IDE</strong> ได้
แนะนำให้ลองใช้งานร่วมกับ <a href="https://marketplace.visualstudio.com/items?itemName=raspberry-pi.raspberry-pi-pico"><strong>Pico VS Code Extension Pack</strong></a>
รองรับการเขียนโค้ดและเลือกใช้ชุดคำสั่งได้สำหรับ <strong>Arm Cortex-M33</strong> และ <strong>RISC-V</strong></p>
<p>หากต้องการเขียนโค้ดด้วย <strong>Arduino Sketch</strong> ก็ให้เลือกใช้ 
<a href="https://github.com/earlephilhower/arduino-pico"><strong>Arduino Core for Raspberry Pi Pico (Community Edition)</strong></a>
สำหรับ <strong>Arduino IDE Software</strong> แต่จะต้องใช้สำหรับเวอร์ชัน <strong>v4.0.0</strong>
(หรือสูงกว่า) เพื่อรองรับการใช้งานชิป <strong>RP2350</strong> และตั้งแต่เวอร์ชัน <strong>v4.3.0</strong> รองรับการใช้งาน <strong>WiFi / BLE</strong> สำหรับบอร์ด <strong>Pico 2 W</strong></p>
<p>การเขียนโค้ดด้วยภาษา <a href="https://micropython.org/"><strong>MicroPython</strong></a>
ก็ทำได้เช่นกัน ผู้ใช้สามารถดาวน์โหลดไฟล์เฟิร์มแวร์ ซึ่งเป็นไฟล์ <strong>.UF2</strong> มาติดตั้งใช้งานสำหรับบอร์ด <strong>Pico 2</strong></p>
<ul>
<li><a href="https://micropython.org/download/RPI_PICO2/"><code>RPI_PICO2</code></a></li>
<li><a href="https://github.com/pimoroni/pimoroni-pico-rp2350/releases"><code>pimoroni-pico-rp2350</code></a></li>
</ul>
<hr />
<h2 id="arduino-core">&#9655; <strong>การติดตั้งและใช้งาน Arduino Core</strong><a class="headerlink" href="#arduino-core" title="Permanent link">#</a></h2>
<p>ถัดไปเป็นตัวอย่างการเขียนโค้ด <strong>Arduino Sketch</strong> โดยใช้
<strong>Arduino Core for Raspberry Pi Pico</strong> และทดลองใช้กับบอร์ด <strong>Pico 2 / Pico 2 W</strong></p>
<p><img alt="" src="arduino-1.jpg" /></p>
<p>รูป: การเพิ่มรายการ <strong>URL</strong> ใน <strong>Arduino IDE - Boards Manager</strong></p>
<p><code>https://github.com/earlephilhower/arduino-pico/releases/download/global/package_rp2040_index.json</code></p>
<p><img alt="" src="arduino_pico_core.jpg" /></p>
<p>รูป: การติดตั้ง <strong>Arduino Core for Raspberry Pi Pico</strong> 
(ทดลองใช้เวอร์ชัน <strong>4.30</strong>) ใน <strong>Arduino IDE - Boards Manager</strong></p>
<p>ถัดไปเป็นโค้ดตัวอย่าง <strong>Arduino Sketch</strong> ทำให้ <strong>LED</strong> บนบอร์ด  <strong>Pico 2 / Pico 2 W</strong>
กระพริบด้วยอัตราคงที่ และส่งข้อความออกมาผ่านทาง <strong>USB CDC (Serial)</strong> </p>
<p>ข้อสังเกต: บอร์ด <strong>Pico 2 W</strong> มีโมดูล <strong>Wi-Fi / BLE</strong> และขาที่ต่อกับวงจร <strong>LED</strong> บนบอร์ด ไม่ใช่ขา <code>GP25</code></p>
<pre><code class="language-C++">#include &lt;Arduino.h&gt;

#define LED_PIN  (64) // 25: Pico / Pico 2 25 and 64: Pico W / Pico 2 W

void setup() {
  Serial.begin(115200);
  while(!Serial);
  Serial.printf(&quot;Arduino Pico Version: v%s\n&quot;, ARDUINO_PICO_VERSION_STR );
  Serial.printf(&quot;LED Pin: %u\n&quot;, LED_PIN );
  pinMode( LED_PIN, OUTPUT ); 
}

void loop() {
  static int state = 0;
  Serial.println(&quot;Hello Pico 2 W!&quot;);
  digitalWrite( LED_PIN, state ^= 1 );
  delay(1000);
}
</code></pre>
<p>หากเริ่มต้นใช้งานครั้งแรก จะต้องทำให้บอร์ด <strong>Pico 2 / Pico 2 W</strong> เข้าสู่โหมด <strong>Bootloader</strong>
โดยการกดปุ่ม <strong>BOOTSEL</strong> ค้างไว้ แล้วเชื่อมต่อกับพอร์ต <strong>USB</strong> ของคอมพิวเตอร์ จากนั้นจะมองเห็น
<strong>Flash Drive</strong> ที่มีชื่อว่า <code>RP2350</code></p>
<p><img alt="" src="arduino-2.jpg" /></p>
<p>รูป: การเลือกพอร์ตสำหรับอัปโหลด โดยใช้วิธี <strong>UF2 Board</strong></p>
<p><img alt="" src="arduino-3.jpg" /></p>
<p>รูป: การอัปโหลดเฟิร์มแวร์ไปยังบอร์ด <strong>Pico 2 W</strong> ได้สำเร็จ โดยใช้วิธี <strong>UF2</strong></p>
<p>เมื่อทำขั้นตอน <strong>Build</strong> และ <strong>Upload</strong> ไปยังบอร์ด <strong>Pico 2</strong> ได้แล้ว จะเห็นว่า <strong>LED</strong>
บนบอร์ดจะกระพริบ และมองเห็นว่า มีพอร์ตอนุกรม (<strong>Serial</strong>) แทนที่พอร์ต <strong>UF2</strong></p>
<p><img alt="" src="arduino-4.jpg" /></p>
<p>รูป: การเลือกพอร์ตอนุกรม (<strong>Serial Port</strong>) เพื่อเชื่อมต่อกับบอร์ด <strong>Pico 2</strong> และรับข้อความจากบอร์ด</p>
<p><img alt="" src="arduino-5.jpg" /></p>
<p>รูป: ตัวอย่างข้อความจากบอร์ด <strong>Pico 2 W</strong> ที่ได้รับโดยเปิดใช้งาน <strong>Arduino Serial Monitor</strong></p>
<p>เมื่อมองเห็นพอร์ตอนุกรมของบอร์ด <strong>Pico 2</strong> แล้ว การอัปโหลดเฟิร์มแวร์ในครั้งถัดไป ก็ไม่จำเป็นต้องใช้วิธี <strong>UF2</strong>
แต่ใช้ช่องทางพอร์ตอนุกรม (<strong>USB CDC</strong>) แทน ทำให้สะดวกในการฝึกเขียนโปรแกรม</p>
<p>&nbsp;</p>
<hr />
<h2 id="pico-2-pico-2-w">&#9655; <strong>แหล่งจ่ายไฟเลี้ยงสำหรับบอร์ด Pico 2 / Pico 2 W</strong><a class="headerlink" href="#pico-2-pico-2-w" title="Permanent link">#</a></h2>
<p>โดยปรกติแล้ว บอร์ด <strong>Pico 2 W</strong> ได้รับแรงดันไฟเลี้ยงจากคอนเนกเตอร์ <strong>Micro USB</strong> หรือจากขา <code>VBUS</code>
แต่ผู้ใช้สามารถใช้แรงดันไฟเลี้ยงจากภายนอกได้ โดยต่อเข้าที่ขา <code>VSYS</code></p>
<p><img alt="" src="pico2w_vsys_input.jpg" /></p>
<p>รูป: การใช้แหล่งจ่ายไฟเลี้ยงภายนอกโดยนำมาต่อเข้าที่ขา <code>VSYS</code> ผ่านไดโอด <strong>Schottky</strong>
หรืออีกทางเลือกหนึ่งคือ การใช้ไอซีทรานซิสเตอร์แบบ <strong>P-MOSFET</strong> มาต่อเพิ่ม</p>
<p>ในกรณีที่ใช้ทรานซิสเตอร์แบบ <strong>P-MOSFET</strong> สำหรับแหล่งจ่ายภายนอก (<strong>ไม่เกิน 5.5V</strong>)
หากมีแรงดันไฟเลี้ยงที่ขา <code>VBUS</code> ประมาณ <strong>5V</strong> จะทำให้ <strong>P-MOSFET</strong> ไม่ทำงาน 
แต่ถ้า <code>VBUS=0V</code> จะทำให้ <script type="math/tex">V_{gs} < V_t < 0</script> และ <strong>P-MOSFET</strong> ทำงานและจ่ายไฟเลี้ยงไปยังขา <code>VSYS</code></p>
<hr />
<h2 id="_1">&#9655; <strong>กล่าวสรุป</strong><a class="headerlink" href="#_1" title="Permanent link">#</a></h2>
<p>ชิป <strong>RP253x</strong> เป็นชิปไมโครคอนโทรลเลอร์ที่มีราคาไม่แพง และมีประสิทธิภาพ หรือความสามารถในการประมวลผลสูงกว่าชิป
<strong>RP2040</strong> รุ่นก่อน เช่น หากใช้คำสั่งสำหรับคำนวณเลขทศนิยม หรือ <strong>Floating-point</strong> ก็จะทำได้เร็วกว่า 
เนื่องจากมีวงจร <strong>FPU (Floating-point Unit)</strong> อยู่ภายในชิป และชิป <strong>RP253x</strong>
ก็มีซีพียูภายใน 2 ชุด ทำงานร่วมกันได้ เป็นตัวอย่างการประมวลผลระดับฮาร์ดแวร์แบบขนานกัน (<strong>Parallel Processing</strong>)</p>
<p><strong>แหล่งข้อมูลอ้างอิง</strong></p>
<ul>
<li><a href="pico-2-datasheet.pdf"><strong>Raspberry Pi Pico 2 Datasheet</strong></a></li>
<li><a href="pico-2-w-datasheet.pdf"><strong>Raspberry Pi Pico 2 W Datasheet</strong></a></li>
<li><a href="pico-2-w-schematic.pdf"><strong>Raspberry Pi Pico 2 W Schematic</strong></a></li>
</ul>
<p>&nbsp;</p>
<hr />
<p><em>This work is licensed under a</em> <strong><em>Creative Commons Attribution-ShareAlike 4.0 International License</em></strong>.</p>
<p>Created: 2024-09-07 | Last Updated: 2024-11-29</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2021-2024 IoT Engineering Education, Bangkok/Thailand</a></p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script src="../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
