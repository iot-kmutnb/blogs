<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="RSP">
        <link rel="canonical" href="https://iot-kmutnb.github.io/blogs/teaching/fpga_tutorials/intro_quartus_prime/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Tutorial: Intel Quartus Prime Lite (VHDL-based FPGA Design Flow) - IoT Engineering Education</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../../css/brands.min.css" rel="stylesheet">
        <link href="../../../css/solid.min.css" rel="stylesheet">
        <link href="../../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../../../css/extra.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/c.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/cpp.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/arduino.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/javascript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/typescript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/json.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/vhdl.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/verilog.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/bash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/text.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/plaintext.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/matlab.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/julia.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/go.min.js"></script>
        <script>hljs.highlightAll();</script>
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-966FQ6RN6W"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', "G-966FQ6RN6W");
        </script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">IoT Engineering Education</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../../.." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../../about/" class="nav-link">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#tutorial-intel-quartus-prime-lite-vhdl-based-fpga-design-flow" class="nav-link">Tutorial: Intel Quartus Prime Lite (VHDL-based FPGA Design Flow)</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#intel-quartus-prime-lite-and-available-editions" class="nav-link">Intel Quartus Prime Lite and Available Editions</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="3"><a href="#editions-of-intel-quartus-prime" class="nav-link">Editions of Intel Quartus Prime:</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#installation-of-quartus-prime-lite-on-ubuntu-2404" class="nav-link">Installation of Quartus Prime Lite on Ubuntu 24.04</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#creating-a-new-quartus-project" class="nav-link">Creating a New Quartus Project</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#adding-source-code-files" class="nav-link">Adding Source Code Files</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#fpga-pin-assignments" class="nav-link">FPGA Pin Assignments</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#full-fpga-compilation-process" class="nav-link">Full FPGA Compilation Process</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#device-programming" class="nav-link">Device Programming</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#vhdl-simulation-using-questa-intel-starter-edition" class="nav-link">VHDL Simulation Using Questa Intel Starter Edition</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#output-signal-measurement" class="nav-link">Output Signal Measurement</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="tutorial-intel-quartus-prime-lite-vhdl-based-fpga-design-flow"><strong>Tutorial: Intel  Quartus Prime Lite (VHDL-based FPGA Design Flow)</strong><a class="headerlink" href="#tutorial-intel-quartus-prime-lite-vhdl-based-fpga-design-flow" title="Permanent link">#</a></h1>
<ul>
<li><a href="#intel-quartus-prime-lite-and-available-editions"><strong>Intel Quartus Prime Lite and Available Editions</strong></a></li>
<li><a href="#installation-of-quartus-prime-lite-on-ubuntu-2404"><strong>Installation of Quartus Prime Lite on Ubuntu 24.04</strong></a></li>
<li><a href="#creating-a-new-quartus-project"><strong>Creating a New Quartus Project</strong></a></li>
<li><a href="#adding-source-code-files"><strong>Adding Source Code Files</strong></a></li>
<li><a href="#fpga-pin-assignments"><strong>FPGA Pin Assignments</strong></a></li>
<li><a href="#full-fpga-compilation-process"><strong>Full FPGA Compilation Process</strong></a></li>
<li><a href="#device-programming"><strong>Device Programming</strong></a></li>
<li><a href="#vhdl-simulation-using-questa-intel-starter-edition"><strong>VHDL Simulation Using Questa Intel Starter Edition</strong></a></li>
<li><a href="#output-signal-measurement"><strong>Output Signal Measurement</strong></a></li>
</ul>
<hr />
<h2 id="intel-quartus-prime-lite-and-available-editions"><strong>Intel Quartus Prime Lite and Available Editions</strong><a class="headerlink" href="#intel-quartus-prime-lite-and-available-editions" title="Permanent link">#</a></h2>
<p>To design and implement logic circuits using <strong>Intel / Altera FPGA</strong> devices or boards,
<a href="https://www.intel.com/content/www/us/en/products/details/fpga/development-tools/quartus-prime/resource.html"><strong>Intel Quartus Prime software</strong></a> is essential. It is a comprehensive design software suite that provides an IDE (<em>Integrated Design Environment</em>), supporting the entire design process — from initial design entry to final device configuration.</p>
<p><img alt="" src="fpga_design_flow.jpg" /></p>
<p><strong>Figure:</strong> Intel / Altera FPGA Design Flow using Quartus Prime </p>
<h3 id="editions-of-intel-quartus-prime"><strong>Editions of Intel Quartus Prime:</strong><a class="headerlink" href="#editions-of-intel-quartus-prime" title="Permanent link">#</a></h3>
<p>There are three main editions of <strong>Intel Quartus Prime</strong>:</p>
<ul>
<li><strong>Lite Edition:</strong> This <em>free</em> version provides essential compilation and programming capabilities for a limited selection of low-cost Intel FPGA devices. It's well suited for educational purposes and smaller projects.</li>
<li><strong>Standard Edition:</strong> This edition supports a broader range of Intel FPGA devices but requires a <em>paid</em> license.</li>
<li><strong>Pro Edition:</strong> Designed for Intel's latest and highest-performance FPGAs (such as Agilex, Stratix 10, and Arria 10), this edition offers advanced features and is <em>not free</em>.</li>
</ul>
<p>For most lab environments, the <strong>Lite Edition</strong> is sufficient, offering all the necessary tools to get started with FPGA development on compatible devices.</p>
<p>The software is available only for <strong>Windows</strong> and <strong>Linux</strong>.
As of <strong>May 2025</strong>, the <em>latest version</em> of <strong>Intel Quartus Prime Lite</strong> is <strong>v24.1</strong>.
The Lite Edition may require up to 14 GB of hard disk storage.</p>
<p><img alt="" src="quartus_prime_versions.jpg" /></p>
<p><img alt="" src="quartus_prime_features.jpg" /></p>
<p><strong>Figure</strong>: Comparisons of three different versions of <strong>Intel Quartus Prime</strong></p>
<p><img alt="" src="quartus_prime_std_vs_pro.jpg" /></p>
<p><strong>Figure</strong>: Quartus Prime Standard vs. Pro Edition</p>
<p>&nbsp;</p>
<p>For the lab, the following free software tools are required:</p>
<ul>
<li><strong>Quartus Prime Lite Edition</strong></li>
<li><strong>Questa-Intel Starter Edition</strong> (for HDL-based simulation)</li>
</ul>
<p>It is recommended to use the <strong>Intel Quartus Prime Installer</strong> for the installation process. In addition, <strong>Questa-Intel FPGA Starter Edition</strong> is available for <em>free</em>, but it does require a license file (<code>.dat</code>).</p>
<p>Follow the instructions on this page: <a href="https://www.intel.com/content/www/us/en/docs/programmable/683472/25-1/and-software-license.html"><strong>Intel License Guide</strong></a> to obtain and use a license file.</p>
<p>&nbsp;</p>
<hr />
<h2 id="installation-of-quartus-prime-lite-on-ubuntu-2404"><strong>Installation of Quartus Prime Lite on Ubuntu 24.04</strong><a class="headerlink" href="#installation-of-quartus-prime-lite-on-ubuntu-2404" title="Permanent link">#</a></h2>
<p><strong>For Linux users</strong>: The following section explains how to install
<strong>Quartus Prime Lite Edition v24.1std</strong> on an <strong>Ubuntu 24.04</strong> system.</p>
<p>After downloading the <code>.run</code> installer from the Intel website,
make it executable and then run it:</p>
<pre><code class="language-text">$ chmod +x *.run
$ ./qinst-lite-linux-24.1std-1077.run
</code></pre>
<p><img alt="" src="installer_download.jpg" /></p>
<p><strong>Figure:</strong> Download the <strong>Intel Quartus Prime Installer</strong> (for <strong>Linux</strong>)</p>
<p><img alt="" src="linux_install-1.jpg" /></p>
<p><img alt="" src="linux_install-2.jpg" /></p>
<p><strong>Figure:</strong> Installation steps (Make sure your computer is connected to the internet.)</p>
<p>&nbsp;</p>
<hr />
<h2 id="creating-a-new-quartus-project"><strong>Creating a New Quartus Project</strong><a class="headerlink" href="#creating-a-new-quartus-project" title="Permanent link">#</a></h2>
<p>Follow these steps to create and configure a new project:</p>
<ol>
<li>
<p><strong>Launch Intel Quartus Prime Lite software and start a New Project</strong></p>
<ul>
<li>Go to <strong>File &gt; New Project Wizard</strong> to begin the project setup.</li>
</ul>
</li>
<li>
<p><strong>Specify Project Information</strong></p>
<ul>
<li>Choose a directory for project files.</li>
<li>Enter a name for the project.</li>
<li>Define the name of the <strong>top-level design entity</strong>.</li>
</ul>
</li>
<li>
<p><strong>Select Project Type</strong></p>
<ul>
<li>Choose <strong>Empty Project</strong>.</li>
</ul>
</li>
<li>
<p><strong>Add Source Files (Optional)</strong></p>
<ul>
<li>If VHDL or Verilog source files are provided, add them at this step.</li>
<li>Otherwise, click <strong>Next</strong> to skip this step.</li>
</ul>
</li>
<li>
<p><strong>Select Target Device</strong></p>
<ul>
<li>In the device selection tab, choose:<ul>
<li><strong>Family</strong>: <code>MAX 10</code></li>
<li><strong>Device</strong>: <code>10M50DAF484C7G</code></li>
</ul>
</li>
<li>You can use the <strong>Filter</strong> options to locate the device more easily.</li>
</ul>
</li>
<li>
<p><strong>Change EDA Tool Settings</strong></p>
<ul>
<li>Accept the default settings and click <strong>Next</strong>.</li>
</ul>
</li>
<li>
<p><strong>Finish the Project Wizard</strong></p>
<ul>
<li>Review the settings and click <strong>Finish</strong> to create the project.</li>
</ul>
</li>
</ol>
<p><img alt="" src="new_proj-1.jpg" /></p>
<p><strong>Figure:</strong> The main window of Intel Quartus Prime Lite
(v22.1, Linux version / Ubuntu 22.04)</p>
<p><img alt="" src="new_proj-2.jpg" /></p>
<p><strong>Figure:</strong> Start "New Project Wizard".</p>
<p><img alt="" src="new_proj-3.jpg" /></p>
<p><strong>Figure:</strong> Overview of the "New Project Wizard" steps.</p>
<p><img alt="" src="new_proj-4.jpg" /></p>
<p><strong>Figure:</strong> Select the project directory, set the project name,
and specify the name of the top-level design entity.</p>
<p><strong>Note:</strong> In this tutorial, VHDL source code for a binary counter (named <code>counter</code>),
along with a VHDL testbench (named <code>tb_counter</code>), is used as an example.</p>
<p>&nbsp;</p>
<p><img alt="" src="new_proj-5.jpg" /></p>
<p><strong>Figure:</strong> Choose "Empty Project" as the project type.</p>
<p><img alt="" src="new_proj-6.jpg" /></p>
<p><strong>Figure:</strong> Add existing VHDL files if any. Otherwise, skip this step.</p>
<p><img alt="" src="new_proj-7.jpg" /></p>
<p><strong>Figure:</strong> Choose the FPGA device by selecting a supported FPGA board
(<strong>MAX10 DE10 Lite</strong>)</p>
<p><img alt="" src="new_proj-8.jpg" /></p>
<p><strong>Figure:</strong> Alternatively, choose the FPGA device explicitly by selecting it from the drop-down menus (<code>10M50DAF484C7G</code>: MAX10 family, DA Series, 50K logic elements,
484 Pins, Commercial Speed Grade -7).</p>
<p><img alt="" src="new_proj-9.jpg" /></p>
<p><strong>Figure:</strong> Use the default "EDA Tool Settings" (use VHDL files for simulation).</p>
<p>&nbsp;</p>
<hr />
<h2 id="adding-source-code-files"><strong>Adding Source Code Files</strong><a class="headerlink" href="#adding-source-code-files" title="Permanent link">#</a></h2>
<p>After a new project is created successfully, the next step
is to create and add new files for the VHDL source code and
FPGA pin assignments to the project.</p>
<ol>
<li>
<p><strong>Adjust Project Navigator View</strong></p>
<ul>
<li>In the main window, switch the <strong>Project Navigator</strong> view from <strong>Design Hierarchy</strong> to <strong>Files</strong> for better file management.</li>
</ul>
</li>
<li>
<p><strong>Add a New HDL File</strong></p>
<ul>
<li>Go to <strong>File &gt; New</strong>, select <strong>VHDL File</strong>, and click <strong>OK</strong>.</li>
<li>Enter VHDL source code and save the file with a <code>.vhd</code> extension.</li>
<li>Right-click the file in the <strong>Project Navigator</strong> and choose <strong>Add to Project</strong>.</li>
<li>Make sure that the name of the top-level design matches the name of the main VHDL entity.</li>
</ul>
</li>
</ol>
<p><img alt="" src="add_files-1.jpg" /></p>
<p><strong>Figure:</strong> Create a new file. Choose the VHDL file type.</p>
<p><img alt="" src="add_files-2.jpg" /></p>
<p><strong>Figure:</strong> Paste the example VHDL code into the <code>.vhd</code> file, then save the file.</p>
<p><img alt="" src="add_files-3.jpg" /></p>
<p><strong>Figure:</strong> Right-click the VHDL file in the "Project Navigator" and 
select "Set as Top-Level Entity".</p>
<p><img alt="" src="add_files-4.jpg" /></p>
<p><strong>Figure:</strong> In the "Project Settings" tab, choose <strong>VHDL 2008</strong> as the VHDL version.
The default VHDL standard is VHDL-1993.</p>
<p><img alt="" src="add_files-5.jpg" /></p>
<p><strong>Figure:</strong> Right-click the VHDL file in the "Project Navigator" 
and click "Analyze Current File" to perform a VHDL syntax check.</p>
<p><img alt="" src="add_files-6.jpg" /></p>
<p><strong>Figure:</strong> Choose "Processing &gt; Start &gt; Start Analysis &amp; Synthesis"
to perform the logic synthesis step to ensure that
the VHDL source code is synthesizable.</p>
<p>&nbsp;</p>
<p>The following code listings are provided for the counter entity and its testbench.</p>
<pre><code class="language-VHDL">-- File: counter.vhd
LIBRARY IEEE;
USE IEEE.STD_LOGIC_1164.ALL;
USE IEEE.NUMERIC_STD.ALL;

ENTITY counter IS
    GENERIC (
        N : INTEGER := 24; -- Default bit width of the binary counter
        M : INTEGER := 10 -- Default bit width of output
    );
    PORT (
        CLK : IN STD_LOGIC; -- Clock
        RST_N : IN STD_LOGIC; -- Asynchronous active-low reset
        ENA : IN STD_LOGIC; -- Enable input
        Q : OUT STD_LOGIC_VECTOR(M - 1 DOWNTO 0); -- M-bit output
        MAX_REACHED : OUT STD_LOGIC -- High when counter reaches max value
    );
END ENTITY;

ARCHITECTURE rtl OF counter IS
    CONSTANT MAX_VALUE : unsigned(N - 1 DOWNTO 0) := (OTHERS =&gt; '1');
    SIGNAL count : unsigned(N - 1 DOWNTO 0) := (OTHERS =&gt; '0');
BEGIN

    PROCESS (CLK, RST_N)
    BEGIN
        IF RST_N = '0' THEN -- Asynchronous reset (active-low)
            count &lt;= (OTHERS =&gt; '0'); -- Reset the counter.
        ELSIF rising_edge(CLK) THEN
            -- Increment the counter by 1 on each clock cycle when enabled.
            IF ENA = '1' THEN
                count &lt;= count + 1; 
            END IF;
        END IF;
    END PROCESS;

    -- Extracts the upper M bits from the N-bit counter and
    -- converts them to a STD_LOGIC_VECTOR format.
    Q &lt;= STD_LOGIC_VECTOR(count(count'left DOWNTO count'left - M + 1));

    -- Sets MAX_REACHED to '1' when the counter reaches its maximum value,
    -- otherwise '0'.
    MAX_REACHED &lt;= '1' WHEN count = MAX_VALUE ELSE '0';

END ARCHITECTURE;
</code></pre>
<p>&nbsp;</p>
<p>Here are the key descriptions for the VHDL counter design:</p>
<ul>
<li>
<p><strong>Usage of VHDL Generics</strong></p>
<ul>
<li><code>N</code> (Default: 24): Defines the bit width of the internal binary counter. This allows flexibility in adjusting the counter size without modifying the core logic.</li>
<li><code>M</code> (Default: 10): Specifies the bit width of the output signal <code>Q</code>.
<code>M</code> must be less than or equal to <code>N</code>.</li>
</ul>
</li>
<li>
<p><strong>I/O Interface</strong></p>
<ul>
<li>Inputs:<ul>
<li><code>CLK</code>: Clock signal used for synchronous logic design.</li>
<li><code>RST_N</code>: Asynchronous active-low reset signal, used to reset the counter.</li>
<li><code>ENA</code>: Enable signal; when high ('1'), the counter increments.</li>
</ul>
</li>
<li>Outputs:<ul>
<li><code>Q</code>: A M-bit output derived from the most significant bits of the counter.</li>
<li><code>MAX_REACHED</code>: A status flag that becomes high ('1') when the counter reaches its maximum possible value.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>The following VHDL testbench is used to verify the functionality of a counter module by simulating clock cycles, reset behavior, and enable conditions.</p>
<ul>
<li><strong>Clock Generation:</strong> A periodic process creates a 20 ns clock signal (50MHz).</li>
<li><strong>Device Under Test (DUT):</strong> Instantiates the counter entity with generic bit-width parameters (<code>N</code> and <code>M</code>).</li>
<li><strong>Stimulus Process:</strong><ul>
<li>Apply an initial reset (<code>RST_N</code> = 0).</li>
<li>Enable counting (<code>ENA</code> = 1), then disables it after a fixed duration.</li>
<li>Re-enable counting, tests reset conditions again.</li>
<li>Use a wait statement to keep the simulation running indefinitely.</li>
</ul>
</li>
</ul>
<pre><code class="language-VHDL">-- File: tb_counter.vhd
LIBRARY IEEE;
USE IEEE.STD_LOGIC_1164.ALL;
USE IEEE.NUMERIC_STD.ALL;

ENTITY tb_counter IS
END ENTITY;

ARCHITECTURE testbench OF tb_counter IS

    CONSTANT N : INTEGER := 8; -- Set to a small value for easier simulation
    CONSTANT M : INTEGER := 8;

    -- DUT signals
    SIGNAL t_CLK   : STD_LOGIC := '0';
    SIGNAL t_RST_N : STD_LOGIC := '0';
    SIGNAL t_ENA   : STD_LOGIC := '0';
    SIGNAL t_Q     : STD_LOGIC_VECTOR(N - 1 DOWNTO 0);
    SIGNAL t_MAX_REACHED : STD_LOGIC;

    -- Clock period
    CONSTANT CLK_PERIOD : TIME := 20 ns;

BEGIN
    -- Instantiate the Device Under Test (DUT)
    DUT : ENTITY work.counter
        GENERIC MAP(
            N =&gt; N,
            M =&gt; M )
        PORT MAP(
            CLK   =&gt; t_CLK,
            RST_N =&gt; t_RST_N,
            ENA   =&gt; t_ENA,
            Q     =&gt; t_Q,
            MAX_REACHED =&gt; t_MAX_REACHED );

    -- Clock generation process
    clk_process : PROCESS
    BEGIN
        t_CLK &lt;= '0';
        WAIT FOR CLK_PERIOD / 2;
        t_CLK &lt;= '1';
        WAIT FOR CLK_PERIOD / 2;
    END PROCESS;

    -- Stimulus process
    stim_proc : PROCESS
    BEGIN
        -- Initial reset
        t_RST_N &lt;= '0';
        t_ENA &lt;= '0';
        WAIT FOR 100 ns;

        -- Release reset and enable counting
        t_RST_N &lt;= '1';
        t_ENA &lt;= '1';
        WAIT FOR (10 * CLK_PERIOD);

        -- Disable counting
        WAIT UNTIL rising_edge(t_CLK);
        t_ENA &lt;= '0';
        WAIT FOR (10 * CLK_PERIOD);

        -- Re-enable counting
        t_ENA &lt;= '1';
        WAIT FOR 100 ns;

        -- Assert the reset 
        t_RST_N &lt;= '0';
        WAIT FOR 100 ns;

        -- De-assert the reset 
        t_RST_N &lt;= '1';
        WAIT FOR 500 ns;

        -- End simulation
        WAIT; -- wait forever
    END PROCESS;

END ARCHITECTURE;
</code></pre>
<p><strong>Note:</strong></p>
<ul>
<li>The VHDL testbench is intended for simulation purposes and is <em>not used</em> 
by the <strong>Quartus Prime software</strong> in the design flow.</li>
<li>Instead, external simulation software such as the <strong>Questa Intel Starter Edition</strong> is used to simulate the VHDL testbench.</li>
</ul>
<p>&nbsp;</p>
<hr />
<h2 id="fpga-pin-assignments"><strong>FPGA Pin Assignments</strong><a class="headerlink" href="#fpga-pin-assignments" title="Permanent link">#</a></h2>
<p>The I/O interface signals of the top-level design entity
must be mapped to the I/O pins of the FPGA device on the selected FPGA board
(<strong>Intel DE10 Lite</strong>).</p>
<p>A convenient way to assign the interface signals to FPGA pins is by using a
<strong>Tcl script</strong>:</p>
<ul>
<li>Create a new file with the <code>.tcl</code> extension.</li>
<li>This script should contain necessary pin assignments
  (e.g., <code>set_location_assignment</code> commands) for the target FPGA board.</li>
<li>Add the <code>.tcl</code> file to the project by right-clicking in the <strong>Project Navigator</strong> and selecting <strong>Add Existing File</strong>.</li>
<li>Go to <strong>Tools &gt; Tcl Scripts...</strong>, then select the <code>.tcl</code> file.  </li>
<li>Click the <strong>Run</strong> button to apply the <strong>Tcl</strong> script.</li>
</ul>
<p><strong>Note:</strong> </p>
<ul>
<li>If no pin assignments are correctly defined, the software will attempt to automatically assign FPGA pins, which may not match the I/O devices on the target FPGA board.</li>
<li>Additionally, incorrect pin assignments or I/O standard selection may cause the compilation to fail.</li>
</ul>
<p>In this tutorial the I/O signals of the counter module are mapped to the following FPGA pins (<strong>3.3V LV-TTL</strong>).</p>
<table>
<thead>
<tr>
<th>Signal</th>
<th>Description</th>
<th>Onboard H/W</th>
<th>FPGA Pin(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td>CLK</td>
<td>Clock Input</td>
<td>50MHz clock source</td>
<td>PIN_P11</td>
</tr>
<tr>
<td>RST_N</td>
<td>Asynchronous Reset</td>
<td>KEY[0] push button</td>
<td>PIN_B8</td>
</tr>
<tr>
<td>ENA</td>
<td>Count Enable</td>
<td>KEY[1] push button</td>
<td>PIN_A7</td>
</tr>
<tr>
<td>Q[9:0]</td>
<td>10-bit Counter Output</td>
<td>10-bit LEDs</td>
<td>PIN_B11, PIN_A11, PIN_D14, PIN_E14, PIN_C13, PIN_D13, PIN_B10, PIN_A10, PIN_A9, PIN_A8</td>
</tr>
<tr>
<td>MAX_REACHED</td>
<td>Is Count Max Reached</td>
<td>Arduino IO13</td>
<td>PIN_AB20</td>
</tr>
</tbody>
</table>
<p><img alt="" src="pin_assignments-1.jpg" /></p>
<p><strong>Figure:</strong> Create a Tcl script with pin assignment statements.</p>
<pre><code class="language-tcl">#============================================================
# FPGA assignments
#============================================================

#set_global_assignment -name FAMILY &quot;MAX 10 FPGA&quot;
#set_global_assignment -name DEVICE 10M50DAF484C7G

#============================================================
# CLOCK
#============================================================
set_instance_assignment -name IO_STANDARD &quot;3.3-V LVTTL&quot; -to CLK
set_location_assignment PIN_P11 -to CLK

#============================================================
# PUSH BUTTONS
#============================================================

set_instance_assignment -name IO_STANDARD &quot;3.3 V SCHMITT TRIGGER&quot; -to RST_N
set_instance_assignment -name IO_STANDARD &quot;3.3 V SCHMITT TRIGGER&quot; -to ENA
set_location_assignment PIN_B8 -to RST_N
set_location_assignment PIN_A7 -to ENA

#============================================================
# LED
#============================================================
set_instance_assignment -name IO_STANDARD &quot;3.3-V LVTTL&quot; -to Q[0]
set_instance_assignment -name IO_STANDARD &quot;3.3-V LVTTL&quot; -to Q[1]
set_instance_assignment -name IO_STANDARD &quot;3.3-V LVTTL&quot; -to Q[2]
set_instance_assignment -name IO_STANDARD &quot;3.3-V LVTTL&quot; -to Q[3]
set_instance_assignment -name IO_STANDARD &quot;3.3-V LVTTL&quot; -to Q[4]
set_instance_assignment -name IO_STANDARD &quot;3.3-V LVTTL&quot; -to Q[5]
set_instance_assignment -name IO_STANDARD &quot;3.3-V LVTTL&quot; -to Q[6]
set_instance_assignment -name IO_STANDARD &quot;3.3-V LVTTL&quot; -to Q[7]
set_instance_assignment -name IO_STANDARD &quot;3.3-V LVTTL&quot; -to Q[8]
set_instance_assignment -name IO_STANDARD &quot;3.3-V LVTTL&quot; -to Q[9]
set_location_assignment PIN_A8  -to Q[0]
set_location_assignment PIN_A9  -to Q[1]
set_location_assignment PIN_A10 -to Q[2]
set_location_assignment PIN_B10 -to Q[3]
set_location_assignment PIN_D13 -to Q[4]
set_location_assignment PIN_C13 -to Q[5]
set_location_assignment PIN_E14 -to Q[6]
set_location_assignment PIN_D14 -to Q[7]
set_location_assignment PIN_A11 -to Q[8]
set_location_assignment PIN_B11 -to Q[9]

#============================================================
# GPIO
#============================================================

set_instance_assignment -name IO_STANDARD &quot;3.3-V LVTTL&quot; -to MAX_REACHED
set_location_assignment PIN_AB20 -to MAX_REACHED
</code></pre>
<p><img alt="" src="pin_assignments-2.jpg" /></p>
<p><strong>Figure:</strong> Select and run a Tcl script ("Tools &gt; Tcl Scripts...").</p>
<p><img alt="" src="pin_assignments-3.jpg" /></p>
<p><strong>Figure:</strong> Select the Tcl script for pin assignments and click the "Run" button.</p>
<p><img alt="" src="pin_assignments-4.jpg" /></p>
<p><strong>Figure:</strong> Open "Assignments &gt; Assignment Editor" to check the pin assignments.</p>
<p><img alt="" src="pin_assignments-5.jpg" /></p>
<p><strong>Figure:</strong> Open "Assignments &gt; Pin Planner" to view the pin locations on the FPGA device.</p>
<p><img alt="" src="pin_assignments-6.jpg" /></p>
<p><strong>Figure:</strong> Re-check the pin assignments in the "Pin Planner" tab.</p>
<p>&nbsp;</p>
<hr />
<h2 id="full-fpga-compilation-process"><strong>Full FPGA Compilation Process</strong><a class="headerlink" href="#full-fpga-compilation-process" title="Permanent link">#</a></h2>
<p>Next, run the full compilation process, which includes the following steps:</p>
<ul>
<li><strong>Source Code Analysis and Elaboration</strong></li>
<li><strong>Logic Synthesis</strong></li>
<li><strong>Fitter</strong> (Logic Mapping and Optimization)</li>
<li><strong>Place &amp; Route</strong></li>
<li><strong>Bitstream Generation</strong></li>
</ul>
<p><img alt="" src="full_compilation.jpg" /></p>
<p><strong>Figure:</strong> Select "Processing &gt; Start Compilation" to execute all steps in the FPGA design flow.</p>
<p><img alt="" src="compilation_result.jpg" /></p>
<p><strong>Figure:</strong> Compilation result</p>
<p>The <strong>"Compilation Result Summary"</strong> tab shows key details about the compilation process, such as logic utilization (the number of logic elements), the number of used FPGA pins, memory usage, and more.</p>
<p>&nbsp;</p>
<hr />
<h2 id="device-programming"><strong>Device Programming</strong><a class="headerlink" href="#device-programming" title="Permanent link">#</a></h2>
<p>After the bitstream file (<code>.sof</code>) for the Intel / Altera FPGA device has been successfully generated, the final step — <strong>Device Programming</strong> (or <strong>Bitstream Uploading</strong>) — can be performed.</p>
<p><img alt="" src="programmer-1.jpg" /></p>
<p><strong>Figure:</strong> Connect the FPGA board to the USB port of the computer.
Select "Tools &gt; Programmer" to open the Device Programmer.</p>
<p><img alt="" src="programmer-2.jpg" /></p>
<p><strong>Figure:</strong> Select the bitstream (<code>.sof</code>) from the list and
click the "Start" button to upload it to the FPGA board.</p>
<p><img alt="" src="programmer-3.jpg" /></p>
<p><strong>Figure:</strong> A green progress bar indicates that the bitstream has been uploaded successfully.</p>
<p><img alt="" src="fpga_board_demo.jpg" /></p>
<p><strong>Figure:</strong> The status of LEDs on the FPGA board</p>
<p>&nbsp;</p>
<hr />
<h2 id="vhdl-simulation-using-questa-intel-starter-edition"><strong>VHDL Simulation Using Questa Intel Starter Edition</strong><a class="headerlink" href="#vhdl-simulation-using-questa-intel-starter-edition" title="Permanent link">#</a></h2>
<p><strong>Quartus Prime Lite</strong> does not include a built-in HDL simulator,
so you cannot simulate HDL designs directly within <strong>Quartus</strong>.
To perform simulations, you need to use the <strong>Questa Intel Starter Edition</strong>
(or other simulators such as <strong>GHDL</strong>).</p>
<p>In this tutorial, the <strong>Quartus Prime Lite v22.1</strong> is installed
under <code>/opt/intelFPGA_lite/22.1std/</code> on a <strong>Linux / Ubuntu</strong> system.</p>
<p>To check the version of the <strong>Questa Intel Starter Edition</strong> software,
run the following command:</p>
<pre><code class="language-text">$ /opt/intelFPGA_lite/22.1std/questa_fse/bin/vsim -version
</code></pre>
<p>To use the software, a license file (<code>.dat</code>) is required.
The following command shows how to set the <code>LM_LICENSE_FILE</code> environment variable
to the location of the license file (e.g. <code>$HOME/.altera.quartus/quartus2_lic.dat</code>).</p>
<p><strong>For Linux users:</strong></p>
<pre><code class="language-text">$ export LM_LICENSE_FILE=&quot;$HOME/.altera.quartus/quartus2_lic.dat&quot;
</code></pre>
<p>To launch the <strong>Questa Intel Starter Edition</strong> directly,
run the following command in a Linux terminal (under the project directory):</p>
<pre><code class="language-text">$ /opt/intelFPGA_lite/22.1std/questa_fse/bin/vsim &amp;
</code></pre>
<p><img alt="" src="sim-1.jpg" /></p>
<p><strong>Figure:</strong> The main window of <strong>Questa Intel Starter Edition</strong></p>
<p>Run the following <strong>Tcl</strong> commands in the console of the <strong>Questa</strong> simulator.</p>
<pre><code class="language-tcl"># Create a working library.
vlib work

# Compile VHDL code and testbench files.
vcom -2008 ./counter.vhd
vcom -2008 ./tb_counter.vhd

# Start the simulator and load the testbench (work.tb_counter).
vsim -t 1ps -voptargs=&quot;+acc&quot; work.tb_counter

# Show waveforms.
view wave

# Add only top-level signals.
add wave *

# Recursively add all signals (all levels).
# add wave -r *

# Run the simulator for 100 usec.
run 100 us
</code></pre>
<p><strong>Note:</strong></p>
<ul>
<li>A <code>.do</code> script file can be used to automate simulator commands, making the process efficient and reproducible. You can save the commands listed above
in a file named <code>simulation.do</code>.</li>
<li>To apply a <code>.do</code> file in <strong>QuestaSim</strong>, enter the command
<code>do simulation.do</code> in the <strong>Transcript</strong> window.</li>
</ul>
<p><img alt="" src="sim-2.jpg" /></p>
<p><strong>Figure:</strong> Waveform window</p>
<p><img alt="" src="sim-3.jpg" /></p>
<p><img alt="" src="sim-4.jpg" /></p>
<p><strong>Figure:</strong> Undocked Waveform window </p>
<p>The Waveform window is used to visualize signal activity during simulation
— i.e., it shows how signals like clocks, resets, and data lines change over time. 
This is essential for verifying the behavior of an HDL-based design.</p>
<p>It is possible to load only the VHDL design without a testbench and 
use <strong>Tcl</strong> commands to apply input stimuli for testing purposes.</p>
<pre><code class="language-tcl"># Create a working library.
vlib work

# Compile the VHDL code file.
vcom -2008 ./counter.vhd

# Start the simulator and load the counter module (work.counter)
vsim -voptargs=&quot;+acc&quot; work.counter

# Add only top-level signals.
add wave *

# Restart the simulator while keeping the waveforms.
restart -f

# Create the clock signal with a 20 ns period (50 MHz)..
force -repeat 20ns CLK 0 0ns, 1 10ns

# Force the RST_N input to 0 (low).
force RST_N 0 

# Force the ENA input to 1 (high).
force ENA 1

# Run the simulator for 200 ns.
run 200 ns

# Force the RST_N input to 1 (high).
force RST_N 1 

# Run the simulator for the next 10 µs.
run 10 us
</code></pre>
<p><strong>Note:</strong></p>
<ul>
<li>It is possible to launch the <strong>Questa Intel Starter Edition</strong> directly from Quartus Prime Lite. Before using it (via "Tools &gt; Run Simulation Tool &gt; RTL Simulation"), ensure that the <strong>license file</strong> for the <strong>Questa simulator</strong> is properly configured and
the environment variable <code>LM_LICENSE_FILE</code> points to the correct license file.</li>
</ul>
<p><img alt="" src="questa_license.jpg" /></p>
<p><strong>Figure:</strong> License file setup for <strong>Questa Intel Starter Edition (Linux)</strong></p>
<p><img alt="" src="questa_license_setup_win.jpg" /></p>
<p><strong>Figure:</strong> License file setup for <strong>Questa Intel Starter Edition (Windows)</strong> </p>
<p><img alt="" src="questa_quartus_launch.jpg" /></p>
<p><strong>Figure:</strong> Questa simulator (launched from Quartus Prime Lite)</p>
<p>&nbsp;</p>
<hr />
<h2 id="output-signal-measurement"><strong>Output Signal Measurement</strong><a class="headerlink" href="#output-signal-measurement" title="Permanent link">#</a></h2>
<p>The <code>MAX_REACHED</code> output signal of the FPGA design is mapped to
the I/O pin at <code>PIN_AB20</code> (<strong>Arduino IO13</strong>).
It can be easily measured and observed using a digital oscilloscope.
The pulse width is 20ns (a single cycle) for the clock frequency of 50MHz.</p>
<p><img alt="" src="pulse_signal-1.jpg" /></p>
<p><strong>Figure:</strong> Measurement of the pulse signal (<code>MAX_REACHED</code>) from 
a <strong>24-bit counter</strong></p>
<p><img alt="" src="signal_measurement.jpg" /></p>
<p><strong>Figure:</strong> Measurement of the pulse signal using an oscilloscope probe</p>
<p>If the bit width (<code>N</code>) is reduced from <code>24</code> to <code>16</code> bits,
then after recompilation and bitstream upload, 
the <code>MAX_REACHED</code> signal appears as a periodic waveform on the oscilloscope screen.
The pulse on the <code>MAX_REACHED</code> occurs every <strong>1.31 msec</strong> (= <script type="math/tex">2^{16} / 50\,\text{MHz}</script>)
or <strong>762.9Hz</strong>.</p>
<p><img alt="" src="pulse_signal-2.jpg" /></p>
<p><strong>Figure:</strong> Measurement of the frequency and period of the pulse signal
from a <strong>16-bit counter</strong>.</p>
<p>&nbsp;</p>
<hr />
<p><em>This work is licensed under a</em> <strong><em>Creative Commons Attribution-ShareAlike 4.0 International License</em></strong>.</p>
<p>Created: 2025-05-28 | Last Updated: 2025-05-30</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2021-2026 IoT Engineering Education, Bangkok/Thailand</a></p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script src="../../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
