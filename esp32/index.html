<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="RSP">
        <link rel="canonical" href="http://iot-kmutnb.github.com/blogs/esp32/">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>ESP32 SoCs - IoT Engineering Education</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">
        <link href="../css/extra.css" rel="stylesheet">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/c.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/cpp.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/c++.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/arduino.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/javascript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/typescript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/json.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/rust.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/vhdl.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/verilog.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/bash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/matlab.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/julia.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">IoT Engineering Education</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="navitem">
                                <a href="../about/" class="nav-link">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#esp32-socs" class="nav-link">ESP32 SoCs</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#esp32" class="nav-link">&#9655; แนะนำชิป ESP32</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#esp32_1" class="nav-link">&#9655; ความหลากหลายของบอร์ด ESP32</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#esp32_2" class="nav-link">&#9655; แผนผังขาของบอร์ด ESP32</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#esp32-series" class="nav-link">&#9655; ESP32 Series</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#esp32_3" class="nav-link">&#9655; การเขียนโปรแกรมสำหรับ ESP32</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#esp32_4" class="nav-link">&#9655; ตัวเลือกและภาษาคอมพิวเตอร์อื่นสำหรับ ESP32</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="esp32-socs">ESP32 SoCs<a class="headerlink" href="#esp32-socs" title="Permanent link">#</a></h1>
<hr />
<h2 id="esp32">&#9655; <strong>แนะนำชิป ESP32</strong><a class="headerlink" href="#esp32" title="Permanent link">#</a></h2>
<p>บริษัท <a href="https://www.espressif.com/"><strong> Espressif Systems Co.Ltd.</strong></a>
ที่ตั้งอยู่ในเมืองเซี่ยงไฮ้  ประเทศจีน  (<strong>Shanghai / China</strong>)
ได้พัฒนาชิป <strong>SoC</strong> (<em>System-on-Chip</em>) ออกมาหลายตระกูล และได้รับความนิยมอย่างมากในปัจจุบัน 
บริษัทได้เปิดตัวชิป <a href="https://www.espressif.com/sites/default/files/documentation/esp32_technical_reference_manual_en.pdf"><strong>ESP32</strong></a> (<strong>32-bit dual-core, Xtensa LX6, 240MHz max., TSMC 40nm manufacturing process technology</strong>) ในวันที่ 6 ก.ย. 2559 (ค.ศ. 2016) และถือว่าเป็น <strong>1st-gen Wi-Fi SoC</strong> 
(ถ้าไม่นับรวมชิป <strong>ESP8266 SoC</strong> ของบริษัทที่ได้ผลิตออกมาเป็นรุ่นแรก) </p>
<p>ชิปรุ่นนี้ มีจุดเด่นคือ มีราคาไม่แพง รองรับการใช้งาน <strong>BLE / Wi-Fi</strong> 
ภายในชิปมีวงจรหรือหน่วยประมวลผลที่ช่วยให้การคำนวณตามมาตรฐานสำหรับการสื่อสารข้อมูลที่มีปลอดภัย 
เช่น การเข้ารหัสข้อมูลด้วยวิธี <strong>AES</strong> การคำนวณค่าฟังก์ชันแฮชแบบ <strong>Secure Hash Algorithm (SHA)</strong>
การเข้ารหัสลับด้วยกุญแจแบบไม่สมมาตร (<strong>Asymmetric / Public-Key Encryption</strong>) ตามวิธีของ <strong>RSA</strong> เป็นต้น
ชิปนี้จึงเหมาะสำหรับการนำไปใช้งานด้าน <strong>IoT</strong> ดังนั้นจึงเป็นเหตุผลหนึ่งว่า ทำไมชิปหรือโมดูลนี้ได้รับความนิยมอย่างมาก </p>
<p><a href="images/esp32_block_diagram_full.jpg"><img alt="ESP32 Block Diagram" src="images/esp32_block_diagram.png" /></a></p>
<p>รูป: <strong>ESP32 Block Diagram</strong> แสดงองค์ประกอบของวงจรภายในชิป (Source: Espressif)</p>
<p>&nbsp;</p>
<p>ตัวอย่างชิป <strong>ESP32 SoC</strong> ของ <strong>Espressif</strong> (<a href="https://www.espressif.com/sites/default/files/documentation/esp32_datasheet_en.pdf"><strong>Datasheet</strong></a>)
และมีตัวถังของไอซีเป็นแบบ <strong>QFN 5×5mm</strong> หรือ <strong>QFN 6×6mm</strong></p>
<ul>
<li><strong>ESP32-D0WD-V3</strong> (<em>dual-core, no embedded flash</em>)</li>
<li><strong>ESP32-U4WDH</strong> (<em>dual-core, with embedded 4MB SPI Flash @80MHz</em>)</li>
<li><strong>ESP32-S0WD</strong> (<em>single core, no embedded flash</em>)</li>
<li><strong>ESP32-D0WD</strong> | <strong>ESP32-D0WDQ6</strong> | <strong>ESP32-D0WDQ6-V3</strong> &mdash; <em>Not Recommended for New Designs (NRND)</em></li>
</ul>
<p><strong>ข้อสังเกตเกี่ยวกับชิป ESP32</strong></p>
<ul>
<li><strong>ESP32</strong> ใช้ตัวประมวลผลภายในคือ <strong>Xtensa 32-bit LX6 (dual-core, symmetric)</strong> 
ทำงานตามรูปแบบของ  <strong>RISC CPU achitecture</strong> (มีการทำคำสั่งโดยใช้ <strong>7-stage RISC pipeline</strong>)
มีการจัดการบัสและหน่วยความจำเป็นแบบ <strong>Harvard architecture</strong> แยกบัสข้อมูลและบัสสำหรับคำสั่งในการเข้าถึงหน่วยความจำ
(<strong>Separate data and instruction buses</strong>)</li>
<li><strong>ESP32</strong> มีหน่วยความจำภายใน  <strong>ROM (448KB) </strong> ซึ่งภายในมีเฟิร์มแวร์สำหรับ <strong>Bootloader</strong>
และ <strong>SRAM (520KB)</strong> ใช้ได้ทั้งเก็บข้อมูลและคำสั่ง (<strong>Data &amp; Instructions</strong>)</li>
<li>ผังหน่วยความจำ (<strong>Memory Map / Memory Address Space</strong>) ของ <strong>ESP32</strong> จะถูกแบ่งออกเป็นส่วนต่าง ๆ เช่น<ul>
<li>ส่วนที่เข้าถึงหน่วยความจำภายในชิป (<strong>Internal Memory</strong>)</li>
<li>ส่วนที่เข้าถึงหน่วยความจำภายนอกชิป (<strong>External Memory</strong>)</li>
<li>ส่วนที่เข้าถึงรีจิสเตอร์ของวงจรภายในประเภทต่าง ๆ (<strong>Peripherals</strong>)</li>
</ul>
</li>
<li>หน่วยความจำ <strong>Internal ROM</strong> แบ่งออกเป็น 2 ส่วน ได้แก่ <strong>Internal ROM 0 (384KB)</strong> และ
<strong>Internal ROM 1 (64KB)</strong></li>
<li>หน่วยความจำ  <strong>Internal SRAM</strong> แบ่งออกเป็น 3 ส่วน ได้แก่ <strong>Internal SRAM 0 (192KB)</strong>,
<strong>Internal SRAM 1 (128KB)</strong> และ <strong>Internal SRAM 2 (200KB)</strong></li>
<li>หน่วยความจำภายนอกแบบ่งเป็น 2 ประเภท ได้แก่ <strong>SPI Flash (up to 16MB)</strong>, <strong>SPI SRAM (up to 8MB)</strong> </li>
<li><strong>ESP32</strong> จะต้องทำงานร่วมกับชิปหน่วยความจำภายนอกที่เรียกว่า <strong>SPI Flash</strong> 
(เช่น <strong>NOR Flash</strong> ของบริษัท <a href="https://www.winbond.com/hq/product/code-storage-flash-memory/serial-nor-flash"><strong>Winbond</strong></a> หรือ <a href="https://www.microchip.com/en-us/products/memory/serial-and-parallel-flash"><strong>Microchip</strong></a> ซึ่งรองรับโหมดการทำงาน <strong>Dual</strong> และ <strong>Quad SPI</strong>)
และในบางกรณีจะพบว่า มีการใช้ชิปหน่วยความจำภายนอกที่เรียกว่า <strong>SPI SRAM</strong> หรือ <strong>Pseudo-Static RAM (PSRAM)</strong>
เพื่อเพิ่มหน่วยจำความสำหรับ <strong>RAM</strong></li>
<li>การสื่อสารด้วยบัส <strong>SPI</strong> (<em>Serial Peripheral Interface</em>) โดยทั่วไปแล้ว ก็จะใช้ 4 ขา ได้แก่ <strong>SCK</strong>, <strong>MOSI</strong>, <strong>MISO</strong>, <strong>/CS</strong>) และความเร็วของ <strong>SCK</strong> สำหรับ <strong>ESP32</strong> ได้สูงสุด <strong>40MHz</strong></li>
<li>ความเร็วและจำนวนขาที่ใช้ในการสื่อสารสำหรับ <strong>SPI Flash</strong> ก็ขึ้นอยู่กับโหมดที่เลือกใช้งาน (<a href="https://docs.espressif.com/projects/esptool/en/latest/esp32/advanced-topics/spi-flash-modes.html"><strong>SPI Flash Access Modes</strong></a>) เช่น <strong>Single (Standard) SPI</strong>, <strong>Dual SPI</strong>, <strong>Quad SPI</strong> เป็นต้น <ul>
<li><strong>Dual SPI</strong> ใช้ 2 ขาสำหรับการส่งบิตของคำสั่ง แอดแดรส และข้อมูล -- ใช้ขา <strong>MOSI &amp; MISO</strong> ของ <strong>SPI</strong> พร้อมกันในทิศทางเดียวกัน 
(แต่เรียกชื่อว่า <strong>IO0 &amp; IO1</strong>) ทำให้เขียนอ่านข้อมูลตามจังหวะของ <strong>SCK</strong> ได้ครั้งละ 2 บิต และมีการแบ่งเป็นโหมดย่อยได้แก่ <code>dio</code> และ <code>dout</code> ซึ่งแตกต่างกันในรูปแบบการส่งบิตแอดเดรสและอ่านบิตข้อมูลจาก <strong>SPI Flash</strong></li>
<li><strong>Quad SPI</strong> ใช้ 4 ขาสำหรับสัญญาณข้อมูลและแอดเดรส และมีการแบ่งเป็นโหมดย่อยได้แก่ <code>qio</code> และ <code>qout</code> เหมือน <strong>Dual SPI</strong> แต่เพิ่มการใช้งานขา <strong>I/O</strong> มาเป็น 4 ขา แทนที่จะใช้แค่ 2 ขา</li>
</ul>
</li>
<li>การปรับเลือกความถี่สำหรับการทำงานของซีพียูทั้งสองแกน: โดยทั่วไป ก็จะใช้ความถี่สูงสุดอยู่ที่ระดับ <strong>240MHz</strong>
แต่ในการเขียนโปรแกรม ก็มีฟังก์ชันให้เลือกปรับความถี่ลดลงได้ในระดับอื่น เช่น <strong>80MHz</strong>, <strong>120MHz</strong> และ <strong>160MHz</strong> (ชิปใช้วงจร <strong>Crystal Oscillator</strong> ความถี่ <strong>40MHz</strong> จากภายนอก) เป็นต้น
การลดความถี่ลงในบางช่วงเวลาขณะทำงาน จะทำให้ระบบใช้พลังงานน้อยลงได้</li>
</ul>
<hr />
<h2 id="esp32_1">&#9655; <strong>ความหลากหลายของบอร์ด ESP32</strong><a class="headerlink" href="#esp32_1" title="Permanent link">#</a></h2>
<p>ตั้งแต่มีการเปิดตัวชิป <strong>ESP32</strong> ครั้งแรก ก็มีบอร์ดไมโครคอนโทรลเลอร์ที่ใช้ชิปดังกล่าวออกมาสู่ตลาดหลายรูปแบบ 
ส่วนใหญ่ก็มีการผลิตและออกแบบมาจากประเทศจีนอาจมีรายละเอียดในเชิงฮาร์ดแวร์ที่แตกต่างกันไป เช่น
การเลือกใช้ <a href="https://www.espressif.com/en/products/modules"><strong>ESP32 Module</strong></a> 
ตำแหน่งการวางขาของบอร์ด รูปแบบของสายอากาศที่ใช้หรือมีอยู่ 
(<strong>onboard PCB antenna vs. external IPEX antena + U.FL connector</strong>) 
ดังนั้นผู้ใช้ควรศึกษารายละเอียดจากแหล่งข้อมูลของผู้ผลิต ไฟล์เอกสารอย่างเช่น ผังวงจรของบอร์ด (<strong>Board Schematic</strong>) 
รูปภาพแสดงตำแหน่งขาต่าง ๆ ของบอร์ด (<strong>Board Pinout Diagram</strong>) เป็นต้น</p>
<p>โดยส่วนใหญ่แล้ว นักออกแบบบอร์ดหรือ <strong>PCB</strong> จะไม่เลือกใช้ชิป <strong>ESP32 SoC</strong> โดยตรง 
แต่จะเลือกใช้โมดูล <strong>ESP32</strong> ของบริษัท <strong>Espressif</strong> เพื่อความสะดวก 
ซึ่งมีหลายแบบและหลายขนาด โมดูล <strong>ESP32</strong> ได้มีการรวมชิป <strong>ESP32 SoC</strong> 
ชิปหน่วยความจำ <strong>SPI Flash</strong> และ <strong>Crystal Oscillator (40MHz</strong>) ไว้ด้วยกันบนแผ่น <strong>PCB</strong> 
และมีเคสที่เป็นโลหะปิดครอบไว้ ยกเว้นส่วนที่เป็นสายอากาศหรือมีคอนเนกเตอร์สำหรับต่อสายอากาศภายนอก</p>
<p>ตัวอย่าง <a href="https://www.espressif.com/en/support/download/documents/modules"><strong>ESP32 SMD Modules</strong></a> ของ <strong>Espressif</strong></p>
<ul>
<li><a href="https://www.espressif.com/sites/default/files/documentation/esp32-wroom-32_datasheet_en.pdf"><strong>ESP32-WROOM-32</strong></a> | <a href="https://www.espressif.com/sites/default/files/documentation/esp32-wroom-32d_esp32-wroom-32u_datasheet_en.pdf"><strong>ESP32-WROOM-32D &amp; ESP32-WROOM-32U</strong></a> | <a href="https://www.espressif.com/sites/default/files/documentation/esp32-wroom-32e_esp32-wroom-32ue_datasheet_en.pdf"><strong>ESP32-WROOM-32E &amp; ESP32-WROOM-32UE</strong></a> &mdash; <strong>ESP32 Chip</strong>, <strong>4MB SPI Flash</strong>, <strong>40 MHz crystal oscillator</strong></li>
<li><a href="https://www.espressif.com/sites/default/files/documentation/esp32-wrover_datasheet_en.pdf"><strong>ESP32-WROVER</strong></a> &mdash; เพิ่มไอซีหน่วยความจำ <strong>8MB SPI PSRAM</strong> นอกเหนือจาก <strong>4MB SPI Flash</strong></li>
<li><a href="https://www.espressif.com/sites/default/files/documentation/esp32-mini-1_datasheet_en.pdf"><strong>ESP32-MINI-1 &amp; ESP32-MINI-1U</strong></a></li>
<li><a href="https://www.espressif.com/sites/default/files/documentation/esp32-pico-d4_datasheet_en.pdf"><strong>ESP32-PICO-D4</strong></a> &mdash; <strong>ESP32-D0WDQ6 Chip</strong>, <strong>4MB SPI Flash</strong>, <strong>40 MHz crystal oscillator</strong> แต่มีลักษณะเป็น <strong>System-in-Package (SiP)</strong> ขนาด 7×7mm</li>
<li><a href="https://www.espressif.com/sites/default/files/documentation/esp32-pico-v3_datasheet_en.pdf"><strong>ESP32-PICO-V3</strong></a> | <a href="https://www.espressif.com/sites/default/files/documentation/esp32-pico-v3-02_datasheet_en.pdf"><strong>ESP32-PICO-V3-02</strong></a></li>
</ul>
<p>โมดูล <strong>ESP32-WROOM-32</strong> และ <strong>ESP32-WROVER</strong> ได้รวมชิป <strong>ESP32</strong> (เช่น <strong>ESP32 D0WDQ6</strong> หรือ <strong>ESP32-D0WD-V3</strong>) และชิปหน่วยความจำไว้บนแผ่น <strong>PCB</strong> เดียวกัน และมีฝาโลหะปิดครอบไว้ แต่ <strong>ESP32-PICO-D4</strong> หรือ <strong>ESP32-PICO-V3</strong> เป็นวงจรรวมประเภทที่เรียกว่า <strong>System-in-Package (SiP)</strong> จึงมีลักษณะเหมือนไอซีหรือชิป ไม่ใช่ลักษณะที่เป็นโมดูลหรือแผ่น <strong>PCB</strong> แบบ <strong>SMD</strong></p>
<p><img alt="" src="images/esp32_wroom32d_module.png" /></p>
<p>รูป: <strong>ESP32-WROOM-32D Module</strong> (Source: Espressif)</p>
<p><img alt="" src="images/esp32_wrover_module.png" /></p>
<p>รูป: <strong>ESP32-WROVER Module</strong> (Source: Espressif)</p>
<p><img alt="" src="images/esp32_wrover_schematic.png" /></p>
<p>รูป: ผังวงจรของโมดูล <strong>ESP32-WROVER</strong> แสดงให้เห็นไอซีที่เป็นองค์ประกอบหลักของโมดูล (Source: Espressif)</p>
<p>&nbsp;</p>
<hr />
<h2 id="esp32_2">&#9655; <strong>แผนผังขาของบอร์ด ESP32</strong><a class="headerlink" href="#esp32_2" title="Permanent link">#</a></h2>
<p>ตามที่ได้กล่าวไป เนื่องจากมีบอร์ด <strong>ESP32</strong> อยู๋หลายแบบให้เลือกใช้งาน ดังนั้นจึงแนะนำว่า 
ควรจะมีไฟล์หรือรูปแสดงตำแหน่งขา (<strong>PinMap</strong>) 
ของบอร์ดที่จะใช้งาน และหาดูหรือดาวน์โหลดได้จากอินเทอร์เน็ต (ดูรูปสำหรับบอร์ดตัวอย่าง) จะช่วยให้การต่อวงจรทำได้สะดวกและลดความผิดพลาด</p>
<p><img alt="" src="images/esp32_devkit-c_v4_pinout.png" /></p>
<p>รูป: แสดงตำแหน่งขาของบอร์ด <strong>Espressif ESP32 DevKitC V4</strong> (<a href="https://dl.espressif.com/dl/schematics/esp32_devkitc_v4-sch.pdf"><strong>Schematic</strong></a>)</p>
<p><img alt="" src="images/esp32_wemos_lolin32_lite_pinout.jpg" /></p>
<p>รูป: แสดงตำแหน่งขาของบอร์ด <strong>WeMos LOLIN32 Lite</strong></p>
<p><img alt="" src="images/nodemcu_esp32-board.jpg" /></p>
<p>รูป: แสดงตำแหน่งขาของบอร์ด <strong>NodeMCU ESP32S</strong></p>
<p>&nbsp;</p>
<hr />
<h2 id="esp32-series">&#9655; <strong>ESP32 Series</strong><a class="headerlink" href="#esp32-series" title="Permanent link">#</a></h2>
<p>ถัดจาก <strong>ESP32</strong> แล้วก็มีรุ่นอื่นตามมาดังนี้ ก็เพื่อตอบโจทย์ความต้องการในตลาดของผู้ใช้ให้กว้างขึ้นและแตกต่างกัน</p>
<ul>
<li><strong>ESP32-S2</strong> <ul>
<li>เปิดตัววันที่ 3 ก.ย. 2562  และเริ่มจำหน่ายในเดือน ก.พ. 2563
   (<a href="https://www.espressif.com/en/news/ESP32-S2-mass-production">announced</a>)</li>
<li>ใช้ตัวประมวลผล <strong>Tensilica LX7</strong> (32-bit <em>single-core</em>, 240MHz, 320KB SRAM) 
  &mdash; ถือว่ามีสเปคของตัวประมวลผลต่ำกว่าของ <strong>ESP32</strong></li>
<li>เพิ่ม <strong>USB OTG support</strong> </li>
<li>ไม่รองรับการใช้งาน <strong>BLE</strong> มีแต่ <strong>Wi-Fi (2.4GHz)</strong> </li>
<li>ไฟล์เอกสาร: <a href="https://www.espressif.com/sites/default/files/documentation/esp32-s2_technical_reference_manual_en.pdf">ESP32-S2 Technical Reference Manual</a></li>
</ul>
</li>
<li><strong>ESP32-S3</strong><ul>
<li>เปิดตัววันที่ 31 ธ.ค. 2563 (<a href="https://www.espressif.com/en/news/ESP32_S3">announced</a>)</li>
<li>ใช้ตัวประมวลผล <strong>Tensilica LX7</strong> (32-bit dual-core, 240MHz, 512KB SRAM)</li>
<li>เพิ่ม <strong>USB-OTG support</strong> </li>
<li>เพิ่มชุดคำสั่ง <strong>Vector instructions / AI Acceleration Support</strong> 
  เพื่อช่วยเพิ่มความสามารถในการประมวลผลทางด้าน <strong>Edge AI / TinyML</strong></li>
<li>ไฟล์เอกสาร: <a href="https://www.espressif.com/sites/default/files/documentation/esp32-s3_technical_reference_manual_en.pdf">ESP32-S3 Technical Reference Manual</a></li>
</ul>
</li>
<li><strong>ESP32-C3</strong><ul>
<li>เปิดตัววันที่ 27 พ.ย. 2563 (<a href="https://www.espressif.com/en/news/ESP32_C3">announced</a>)</li>
<li>เปลี่ยนมาใช้ซีพียูตามสถาปัตยกรรม <strong>RISC-V</strong> (32-bit <em>single-core</em>, 120MHz, 400KB SRAM)</li>
<li>เน้นประหยัดพลังงานมากกว่า <strong>ESP32-S2</strong></li>
<li>มี <strong>BLE 5.0</strong> และ <strong>Wi-Fi 2.4GHz (IEEE 802.11b/g/n)</strong></li>
<li>ไม่มี <strong>ULP</strong> (<em>Ultra-Lowpower Coprocessor</em>) </li>
<li>ไม่มี <strong>DAC</strong> (<em>Digital-to-Analog Converter</em>)</li>
<li>ไม่มี <strong>USB-OTG support</strong></li>
<li>เน้นราคาถูก คาดว่าจะมาแทนที่ <strong>ESP8266</strong> เพื่อใช้งานในลักษณะ <strong>WiFi-to-Serial</strong></li>
<li>ไฟล์เอกสาร: <a href="https://www.espressif.com/sites/default/files/documentation/esp32-c3_technical_reference_manual_en.pdf">ESP32-C3 Technical Reference Manual</a></li>
</ul>
</li>
<li><strong>ESP32-C6</strong><ul>
<li>เปิดตัววันที่ 9 เม.ย. พ.ศ. 2564 (<a href="https://www.espressif.com/en/news/ESP32_C6">announced</a>)</li>
<li>ใช้ตัวประมวลผลเหมือน <strong>ESP32-C3</strong> แต่รองรับมาตรฐาน <strong>Wi-Fi 6 (IEEE 802.11ax)</strong></li>
</ul>
</li>
<li><strong>ESP32-H2</strong><ul>
<li>เปิดตัววันที่ 2 สิงหาคม พ.ศ. 2564 (<a href="https://www.espressif.com/en/news/ESP32_H2">announced</a>)</li>
<li>ใช้ตัวประมวลผล  <strong>RISC-V</strong> (32-bit <em>single-core</em>, 96MHz, 256KB SRAM)
   เน้นการทำงานแบบประหยัดพลังงาน (<strong>Low-Power</strong>) เหมาะสำหรับงานด้าน <strong>Smart Home</strong></li>
<li>ไม่มี <strong>Wi-Fi</strong> แต่รองรับ <strong>BLE 5.0</strong></li>
<li>รองรับการใช้งานตามมาตรฐาน <strong>IEEE 802.15.4</strong> (ZigBee 3.0 / OpenThread 1.x)</li>
<li>ไฟล์เอกสาร: <a href="https://www.espressif.com/sites/default/files/documentation/esp32_technical_reference_manual_en.pdf">ESP32-H2 Technical Reference Manual</a></li>
</ul>
</li>
<li><strong>ESP32-C2</strong><ul>
<li>ใช้ตัวประมวลผล <strong>RISC-V</strong> (32-bit <em>single-core</em>, 120 MHz, 272KB SRAM)</li>
<li>รองรับการสื่อสารด้วย <strong>2.4 GHz Wi-Fi</strong> และ <strong>Bluetooth 5 (LE)</strong></li>
<li>โดยรวมจะคล้ายกับ <strong>ESP-C3</strong> แต่ลดสเปคลงมา แต่มีเวอร์ชันที่รวม <strong>Embedded Flash (SiP)</strong> ด้วย</li>
</ul>
</li>
</ul>
<p><img alt="" src="images/esp32_s2_block_diagram_600px.jpg" /></p>
<p>รูป: <strong>ESP32-S2 Block Diagram</strong> (Source: Espressif)</p>
<p>&nbsp;</p>
<p><img alt="" src="images/esp32_c3_block_diagram_full.jpg" /></p>
<p>รูป: <strong>ESP32-C3 Block Diagram</strong> (Source: Espressif)</p>
<p>&nbsp;</p>
<p><img alt="" src="images/esp32_c3_block_diagram.png" /></p>
<p>รูป: <strong>ESP32-C3 Block Diagram</strong> (Source: Espressif)</p>
<p>&nbsp;</p>
<p><img alt="" src="images/esp32-c2_block_diagram.png" /></p>
<p>รูป: <strong>ESP32-C2 Block Diagram</strong> (Source: Espressif)</p>
<p>ในปีค.ศ. 2022 บริษัท <strong>Espressif Systems</strong> ได้เปิดเผยบนหน้าเว็บไซต์ แผนการผลิตและจำหน่ายชิป <strong>ESP32</strong> เพื่อป้อนให้ตลาดอย่างต่อเนื่องในอนาคต ดังนี้</p>
<p><img alt="" src="images/esp32_longevity-commitment.png" /></p>
<p>รูป: <a href="https://www.espressif.com/en/products/longevity-commitment"><strong>ESP32 Longevity Commitment</strong></a></p>
<p>&nbsp;</p>
<hr />
<h2 id="esp32_3">&#9655; <strong>การเขียนโปรแกรมสำหรับ ESP32</strong><a class="headerlink" href="#esp32_3" title="Permanent link">#</a></h2>
<p>บอร์ดไมโครคอนโทรลเลอร์ <strong>ESP32</strong> มีราคาถูกและให้เลือกใช้งานได้หลายแบบจากหลายผู้ผลิต 
ดังนั้นผู้ใช้งานจึงเข้าถึงฮาร์ดแวร์ได้ง่ายกว่าบอร์ดที่มีราคาแพง เหมาะสำหรับผู้เริ่มต้น หรือการเรียนการสอนที่มีงบประมาณจำกัด
หรือลงทุนศึกษาด้วยตัวเอง</p>
<p>สำหรับการเขียนโปรแกรมเพื่อใช้งานกับ <strong>ESP32</strong> ก็มีตัวเลือกซอฟต์แวร์ของบริษัท <strong>Espressif</strong> ดังนี้</p>
<ul>
<li>ในช่วงแรก บริษัท <strong>Espressif</strong> ได้เผยแพร่ <strong>ESP32 RTOS SDK</strong> ให้เป็นโอเพนซอร์ส 
    เพื่อการพัฒนาซอฟต์แวร์ต่าง ๆ สำหรับ <strong>ESP32</strong></li>
<li>ต่อมาได้เปลี่ยนมาพัฒนา <strong>SDK</strong> ตัวใหม่ที่เรียกว่า <a href="https://www.espressif.com/en/products/sdks/esp-idf"><strong>ESP-IDF</strong></a>
  (<strong><em>Espressif IoT Development Framework</em></strong>) </li>
<li>เวอร์ชันในปัจจุบันของ <strong>ESP-IDF</strong> คือ <strong>v4.4</strong> (ปลายปีค.ศ. 2021)  และคาดว่าจะมีเวอร์ชัน <strong>v5.0</strong> ออกมาในลำดับถัดไป</li>
<li>คู่มือการใช้งานออนไลน์สำหรับ <strong>ESP-IDF</strong>:<ul>
<li><a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32/get-started/index.html">ESP32 Getting Started</a></li>
<li><a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32s2/get-started/index.html">ESP32-S2 Getting Started</a></li>
<li><a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32s3/get-started/index.html">ESP32-S3 Getting Started</a></li>
<li><a href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32c3/get-started/index.html">ESP32-C3 Getting Started</a></li>
</ul>
</li>
</ul>
<p><img alt="ESP-IDF SW Components" src="images/esp_idf_components.png" /> </p>
<p>รูป: ตัวอย่างองค์ประกอบของซอฟต์แวร์ <a href="https://github.com/espressif/esp-idf"><strong>ESP-IDF SDK</strong></a> (Source: Espressif)</p>
<p><img alt="ESP-IDF SW Components" src="images/esp_idf_versions.png" /> </p>
<p>รูป: <strong>ESP-IDF Versions vs. ESP Series Support</strong> (Source: Espressif)</p>
<p><img alt="ESP-IDF Versions &amp; Support" src="images/esp_idf_versions_support.png" /> </p>
<p>รูป: **ESP-IDF Versions and Support (Source: Espressif)</p>
<p>&nbsp;</p>
<hr />
<h2 id="esp32_4">&#9655; <strong>ตัวเลือกและภาษาคอมพิวเตอร์อื่นสำหรับ ESP32</strong><a class="headerlink" href="#esp32_4" title="Permanent link">#</a></h2>
<ul>
<li>ผู้ใช้สามารถเลือก <strong>Arduino IDE</strong> ซึ่งเหมาะสำหรับผู้เริ่มต้นที่ต้องการเรียนรู้การเขียนโค้ด <strong>Arduino Sketches</strong> 
   สำหรับ <strong>ESP32 / ESP32-S2 / ESP-C3</strong>
  โดยจะต้องติดตั้ง <a href="https://github.com/espressif/arduino-esp32"><strong>Arduino-ESP32 Core</strong></a> ผ่านทาง <strong>Arduino Boards Manager</strong> ของ <strong>Arduino IDE</strong></li>
<li><a href="https://code.visualstudio.com/"><strong>VS Code</strong></a> ซึ่งเป็น <strong>Open Source IDE</strong> ของ <strong>Microsoft</strong>
 และให้ติดตั้ง <strong>Extensions</strong> ผ่านทาง <strong>VSCode Extension Manager</strong> ดังนี้<ul>
<li><a href="https://platformio.org/install/ide?install=vscode"><strong>PlatformIO Extension</strong></a> 
           รองรับการใช้งาน <strong>Arduino-ESP32</strong> เช่นกัน นักพัฒนาจำนวนไม่น้อย ก็เลือกใช้ซอฟต์แวร์นี้แทน <strong>Arduino IDE</strong></li>
<li><a href="https://docs.platformio.org/en/stable/frameworks/espidf.html"><strong>ESP-IDF Extension</strong></a>: <a href="https://docs.platformio.org/en/stable/boards/espressif32/esp32dev.html#board-espressif32-esp32dev"><code>esp32dev</code></a>
           ก็เหมาะสำหรับผู้ที่สนใจจะเขียนโค้ด <strong>C/C++</strong> สำหรับ <strong>ESP32</strong> โดยใช้ <strong>ESP-IDF</strong> (<strong>Espressif IoT Development Framework</strong>) และไม่ใช้รูปแบบการเขียนโปรแกรมแบบ <strong>Arduino Sketch</strong></li>
</ul>
</li>
<li><strong>Eclipse IDE for C/C++ Developers</strong> + <a href="https://dl.espressif.com/dl/idf-eclipse-plugin/updates/latest/"><strong>ESP-IDF Plugin</strong></a><ul>
<li><strong>Github repo</strong>": <a href="https://github.com/espressif/idf-eclipse-plugin]">https://github.com/espressif/idf-eclipse-plugin</a></li>
</ul>
</li>
</ul>
<p><img alt="" src="images/esp_idf_ide_windows.png" /></p>
<p>รูป: <a href="https://dl.espressif.com/dl/esp-idf/"><strong>ESP-IDF + Espressif IDE Installer for Windows</strong></a>
(Update: 2022-02-23)</p>
<p>&nbsp;</p>
<p><img alt="" src="images/esp_idf_vscode_wsl_ubuntu.png" />
รูป:  ตัวอย่างการใช้งาน <strong>VS Code IDE</strong> สำหรับ <strong>Windows</strong> และใช้งานร่วมกับ <strong>WSL-Ubuntu</strong> และ
<strong>ESP-IDF</strong></p>
<p>นอกจากภาษา <strong>C/C++</strong> ก็ยังมีภาษาคอมพิวเตอร์อื่นอีกที่นำมาใช้เขียนโปรแกรมได้สำหรับ <strong>ESP32</strong> เช่น</p>
<ul>
<li><a href="https://docs.micropython.org/en/latest/esp32/tutorial/intro.html"><strong>MicroPython for ESP32</strong></a></li>
<li><a href="https://circuitpython.org/downloads?q=esp32-s2"><strong>CircuitPython (6.x or higher) for ESP32-S2</strong></a></li>
<li><a href="https://www.espruino.com/ESP32/"><strong>Espurino / JavaScript for ESP32</strong></a></li>
<li><a href="https://github.com/espressif/rust-esp32-example/"><strong>Rust for ESP32</strong></a></li>
<li><a href="https://github.com/whitecatboard/Lua-RTOS-ESP32/"><strong>Lua RTOS for ESP32 by Whitecat</strong></a></li>
<li><a href="https://tinygo.org/docs/reference/microcontrollers/esp32-mini32/"><strong>TinyGo for ESP32</strong></a></li>
</ul>
<p>การใช้งาน <strong>RTOS</strong> อย่างเช่น </p>
<ul>
<li><a href="https://www.freertos.org/"><strong>FreeRTOS</strong></a></li>
<li><a href="https://nuttx.apache.org/docs/latest/platforms/xtensa/esp32/index.html"><strong>Apache NuttX</strong></a></li>
<li><a href="https://zephyrproject.org/zephyr-rtos-on-esp32/"><strong>Zephyr RTOS</strong></a></li>
</ul>
<hr />
<p>This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.</p>
<p>Created: 2022-02-15 | Last Updated: 2022-04-30</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2021-2022 IoT Engineering Education, Bangkok/Thailand</a></p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
