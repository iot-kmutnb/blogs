<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="RSP">
        <link rel="canonical" href="https://iot-kmutnb.github.io/blogs/stm32/vscode_stm32cube/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>แนะนำการใช้งาน STM32Cube for VS Code: Nucleo F446RE Board - IoT Engineering Education</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/fontawesome.min.css" rel="stylesheet">
        <link href="../../css/brands.min.css" rel="stylesheet">
        <link href="../../css/solid.min.css" rel="stylesheet">
        <link href="../../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../../css/extra.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/c.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/cpp.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/arduino.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/javascript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/typescript.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/json.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/vhdl.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/verilog.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/bash.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/text.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/plaintext.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/matlab.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/julia.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/go.min.js"></script>
        <script>hljs.highlightAll();</script>
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-966FQ6RN6W"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', "G-966FQ6RN6W");
        </script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">IoT Engineering Education</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../../about/" class="nav-link">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#stm32cube-for-vs-code-nucleo-f446re-board" class="nav-link">แนะนำการใช้งาน STM32Cube for VS Code: Nucleo F446RE Board</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#stm32cube-for-vs-code" class="nav-link">&#9655; STM32Cube for VS Code</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#stm32-st-nucleo" class="nav-link">&#9655; บอร์ดไมโครคอนโทรลเลอร์ STM32: ST NUCLEO</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#nucleo" class="nav-link">&#9655; การแบ่งกลุ่มของบอร์ด Nucleo</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#stm32cube-for-vs-code_1" class="nav-link">&#9655; ขั้นตอนการใช้งาน STM32Cube for VS Code</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#_1" class="nav-link">&#9655; กล่าวสรุป</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="stm32cube-for-vs-code-nucleo-f446re-board">แนะนำการใช้งาน STM32Cube for VS Code: Nucleo F446RE Board<a class="headerlink" href="#stm32cube-for-vs-code-nucleo-f446re-board" title="Permanent link">#</a></h1>
<p><strong>Keywords</strong>: <em>VS Code IDE</em>, <em>STM32CubeMX</em>, <em>STM32F4</em>,  <em>ST Nucleo Boards</em>, <em>Nucleo F446RE</em></p>
<hr />
<h2 id="stm32cube-for-vs-code">&#9655; <strong>STM32Cube for VS Code</strong><a class="headerlink" href="#stm32cube-for-vs-code" title="Permanent link">#</a></h2>
<p>ในอดีต บริษัท <strong>STMicroelectronics (ST)</strong> ผู้ผลิตไมโครคอนโทรลเลอร์ตระกูล <strong>STM32</strong> ได้มีซอฟต์แวร์ประเภท <strong>IDE</strong>
(<em>Integrated Development Environment</em>) ให้เลือกใช้งานหลายตัว เช่น</p>
<ul>
<li><a href="https://www.st.com/en/development-tools/truestudio.html"><strong>Atollic TrueSTUDIO</strong></a></li>
<li><a href="https://www.st.com/en/development-tools/sw4stm32.html"><strong>System Workbench for STM32 (SW4STM32)</strong></a></li>
</ul>
<p><img alt="" src="st_ide_sw.jpg" /></p>
<p>รูป: ข้อมูลเกี่ยวกับซอฟต์แวร์ <strong>Atollic TrueSTUDIO</strong> และ <strong>SW4STM32</strong> บนหน้าเว็บของบริษัท <strong>ST</strong></p>
<p>ต่อมาทาง <strong>ST</strong> ได้รวมเครื่องมือเหล่านี้มาเป็น <a href="https://www.st.com/en/development-tools/stm32cubeide.html"><strong>STM32CubeIDE</strong></a> ซึ่งมีพื้นฐานมาจาก <strong>Eclipse C/C++ Development Tools (CDT) Framework</strong>
และได้รวมซอฟต์แวร์ <a href="https://www.st.com/en/development-tools/stm32cubemx.html"><strong>STM32CubeMX</strong></a> เอาไว้ด้วย
ใช้สำหรับการตั้งค่า <strong>MCU / MPU</strong> สร้างโค้ดเริ่มต้น (<strong>Initialization C Code Generator</strong>) ผ่านอินเทอร์เฟซแบบกราฟิก</p>
<p>ในเดือนมีนาคม ค.ศ. 2023 ทางบริษัท <strong>ST</strong> ได้เปิดตัว
<a href="https://www.st.com/content/st_com/en/stm32-mcu-developer-zone/software-development-tools/stm32cubevscode.html"><strong>STM32Cube for VS Code</strong></a>: <a href="https://marketplace.visualstudio.com/items?itemName=stmicroelectronics.stm32-vscode-extension"><code>stmicroelectronics.stm32-vscode-extension</code></a> (<strong>Version 1.0.0</strong>)
เพื่อให้สามารถพัฒนา <strong>STM32</strong> บน <strong>Visual Studio Code</strong> ได้</p>
<ul>
<li>เป็นชุดเครื่องมือพัฒนาซอฟต์แวร์สำหรับไมโครคอนโทรลเลอร์ <strong>STM32</strong>
ที่ทำงานร่วมกับ <strong>Visual Studio Code (VS Code)</strong> พัฒนาและดูแลโดยบริษัท <strong>ST</strong></li>
<li>ได้ออกแบบให้มีโครงสร้างเหมาะสำหรับทำงานแบบ <strong>CLI</strong> (<strong>Command Line</strong>) และแตกต่างจาก <strong>STM32CubeIDE</strong> ที่เป็น <strong>IDE</strong> ตัวหลักของ <strong>ST</strong></li>
<li><strong>STM32Cube for VS Code</strong> ได้ถูกพัฒนาให้เป็นแพลตฟอร์มแบบแยกส่วน (<strong>Modular Toolchain</strong>)
ที่ได้รวมหลายเครื่องมือเข้าด้วยกันผ่าน <strong>VS Code</strong></li>
</ul>
<p>การใช้งานสำหรับเวอร์ชันแรก ๆ ผู้ใช้จำเป็นต้องติดตั้งโปรแกรมเสริมหลายตัวร่วมกัน เช่น</p>
<ul>
<li><strong>STM32CubeCLT</strong></li>
<li><strong>STM32CubeMX</strong></li>
<li><strong>STMCUFinder</strong></li>
</ul>
<p>เวอร์ชันล่าสุด ณ วันที่เขียนข้อความนี้ คือ <strong>Version 3.7.0 (15/12/2025)</strong> มีการปรับปรุงโครงสร้างซอฟต์แวร์ค่อนข้างมาก เช่น</p>
<ul>
<li>เลิกใช้วิธีติดตั้งแบบ <strong>STM32CubeCLT</strong></li>
<li>เปลี่ยนมาใช้เครื่องมือใหม่ชื่อ <strong>"STM32Cube Bundle Manager"</strong> สำหรับดาวน์โหลดและติดตั้งเครื่องมือย่อยต่าง ๆ ที่จำเป็นโดยอัตโนมัติ</li>
<li>อย่างไรก็ตาม ผู้ใช้ ยังคงต้องติดตั้ง <strong>STM32CubeMX</strong> แยกต่างหาก เพื่อใช้ในการสร้างโค้ดเริ่มต้นสำหรับโปรเจกต์</li>
</ul>
<p><strong>STM32Cube for VS Code</strong> แบ่งหน้าที่ของเครื่องมือออกเป็นส่วน ๆ ดังนี้</p>
<ol>
<li>
<p>ส่วนติดต่อผู้ใช้แบบ <strong>GUI</strong></p>
<ul>
<li>ทำงานภายใต้ <strong>VS Code</strong> เป็นสภาพแวดล้อมหลัก</li>
<li>รองรับการดีบักในฮาร์ดแวร์ โดยอาศัยส่วนขยาย <strong>Cortex-Debug</strong> (<strong>STM32 VS Code Debugger</strong>)</li>
</ul>
</li>
<li>
<p>การสร้างโค้ด (<strong>Code Generation</strong>)</p>
<ul>
<li>ใช้ <strong>STM32CubeMX</strong> ของ <strong>STMicroelectronics</strong> (ต้องดาวน์โหลดและติดตั้งโปรแกรมนี้ด้วย) สำหรับเลือกบอร์ด
หรือไมโครคอนโทรลเลอร์ ตั้งค่าการใช้งานวงจรภายใน
และการสร้างโค้ดทำผ่าน <strong>CubeMX GUI</strong> หรือ <strong>CubeMX CLI</strong></li>
<li>ได้โค้ดเริ่มต้นที่ใช้ <strong>STM32 HAL (Hardware Abstraction Layer)</strong> พร้อมไฟล์ตั้งค่า <strong>CMake / Ninja Build</strong></li>
<li>รองรับการติดตั้งไฟล์สำหรับชิปรุ่นต่าง ๆ โดยใช้ <strong>CMSIS-PACK DFPs</strong></li>
</ul>
</li>
<li>
<p>คอมไพเลอร์ (<strong>Compiler</strong>)</p>
<ul>
<li>ใช้ <strong>ARM GNU Toolchain</strong> ( <code>arm-none-eabi-gcc</code>) สำหรับ <strong>ARM Cortex-M</strong>
เพื่อคอมไพล์ซอร์สโค้ดภาษา <strong>C/C++</strong> ให้เป็นไฟล์ <strong>.elf</strong></li>
<li>ใช้ <strong>Clangd</strong> (แทนที่ <strong>IntelliSense</strong> แบบเดิม) ซึ่งเป็นเครื่องมือในตระกูล <strong>LLVM</strong>
ที่ทำหน้าที่เป็น <strong>C/C++ Language Server</strong> เช่น ทำหน้าที่ <strong>Autocomplete</strong>
และตรวจสอบไวยากรณ์โค้ด (<strong>Syntax Checking</strong>)</li>
</ul>
</li>
<li>
<p>ระบบ <strong>Build</strong> สำหรับโปรเจกต์</p>
<ul>
<li>ใช้ <strong>CMake</strong> สำหรับการจัดการคอมไพล์โค้ดในโปรเจกต์ 
และ <strong>Ninja</strong>  ซึ่งเป็น <strong>Backend</strong> สำหรับการทำขั้นตอน <strong>Build</strong> ที่รวดเร็ว</li>
<li>รองรับการ <strong>Build</strong> ที่เลือกได้ว่าจะเป็นแบบ <strong>Debug</strong> หรือ <strong>Release</strong></li>
</ul>
</li>
<li>
<p>การโปรแกรมและดีบัก (<strong>Flash / Debug</strong>)</p>
<ul>
<li>สามารถใช้ <strong>GDB (GNU Debugger) Debug Server</strong> ได้ เช่น
<strong>ST-Link Server</strong> และ <strong>J-Link GDB Server</strong>
ใช้งานร่วมกับอุปกรณ์ <strong>ST-Link</strong> และ <strong>J-Link Debug Probe</strong> ตามลำดับ</li>
<li><strong>OpenOCD</strong> จะเปิดบริการ <strong>GDB Server</strong> ให้ <strong>GDB Client</strong> (เช่น <code>arm-none-eabi-gdb</code>) เชื่อมต่อเข้ามา </li>
<li>รองรับฟังก์ชันในการดีบัก เช่น <strong>Breakpoint</strong>, <strong>Step / Continue</strong>, <strong>Register / Memory view</strong>
และ <strong>Peripheral View</strong> (โดยใช้ไฟล์ <strong>.SVD</strong> ของชิปไมโครคอนโทรลเลอร์)</li>
<li><strong>ST-Link GDB Server</strong> รองรับการดีบัก <strong>Dual-Core / Multi-Core CPU</strong></li>
</ul>
</li>
</ol>
<p>&nbsp;</p>
<hr />
<h2 id="stm32-st-nucleo">&#9655; <strong>บอร์ดไมโครคอนโทรลเลอร์ STM32: ST NUCLEO</strong><a class="headerlink" href="#stm32-st-nucleo" title="Permanent link">#</a></h2>
<p><strong>STM32 Nucleo Boards</strong> เป็นบอร์ดพัฒนาไมโครคอนโทรลเลอร์ (<strong>Microcontroller Development Board</strong>)
สำหรับชิปตระกูล <strong>STM32</strong> ที่ผลิตและดูแลโดยบริษัท <strong>STMicroelectronics (ST)</strong> โดยตรง
ออกแบบมา เพื่อใช้ในการเรียนรู้ การทดลอง และการพัฒนาระบบสมองกลฝังตัว</p>
<p>บอร์ดตระกูล <strong>Nucleo</strong> ได้รับความนิยมอย่างแพร่หลาย ทั้งในภาคการศึกษาและภาคอุตสาหกรรม
ใช้งานร่วมกับเครื่องมือพัฒนาของ <strong>ST</strong> เช่น</p>
<ul>
<li><strong>STM32CubeMX / STM32CubeIDE / STM32Programmer</strong></li>
<li><strong>STM32Cube for VS Code</strong></li>
</ul>
<p>บอร์ด <strong>STM32 Nucleo</strong> มีข้อดีอีกประการหนึ่งคือ มี <strong>ST-Link Programmer/Debugger</strong>
รวมอยู่บนบอร์ด ทำให้ไม่จำเป็นต้องใช้อุปกรณ์ภายนอกในการโปรแกรมหรือดีบัก</p>
<p>&nbsp;</p>
<hr />
<h2 id="nucleo">&#9655; <strong>การแบ่งกลุ่มของบอร์ด Nucleo</strong><a class="headerlink" href="#nucleo" title="Permanent link">#</a></h2>
<p>บอร์ด <strong>STM32 Nucleo</strong> สามารถแบ่งออกเป็น 3 กลุ่มหลัก ตามขนาดและความสามารถของไมโครคอนโทรลเลอร์ ได้แก่</p>
<ol>
<li>
<p><strong>Nucleo-32</strong></p>
<ul>
<li>ขนาดเล็ก กะทัดรัด และ <strong>Breadboard-friendly</strong></li>
<li>ใช้ไมโครคอนโทรลเลอร์ STM32 ระดับเริ่มต้น</li>
<li>เหมาะสำหรับการเรียนรู้พื้นฐานและโปรเจกต์ขนาดเล็ก</li>
</ul>
</li>
<li>
<p><strong>Nucleo-64</strong></p>
<ul>
<li>ขนาดมาตรฐาน, <strong>Arduino Uno Shield compatible</strong></li>
<li>มีขาเชื่อมต่อแบบ <strong>Arduin headers</strong></li>
<li>รองรับไมโครคอนโทรลเลอร์ <strong>STM32</strong> หลายตระกูล</li>
</ul>
</li>
<li>
<p><strong>Nucleo-144</strong></p>
<ul>
<li>ขนาดใหญ่กว่าสองกลุ่มแรก และมีจำนวนขา <strong>I/O</strong> มาก</li>
<li>รองรับไมโครคอนโทรลเลอร์สมรรถนะสูง</li>
<li>เหมาะสำหรับงานที่ต้องการทรัพยากรและการเชื่อมต่อจำนวนมาก</li>
</ul>
</li>
</ol>
<p><img alt="" src="stm32_nucleo_boards.jpg" /> </p>
<p>รูป: บอร์ด <strong>ST Nucleo</strong> (Source: STMicroelectronics)</p>
<p>ไมโครคอนโทรลเลอร์ตระกูล <strong>STM32</strong> ของบริษัท <strong>STMicroelectronics</strong> สามารถแบ่งออกเป็นหลายกลุ่มตามระดับสมรรถนะ การใช้พลังงาน และลักษณะการใช้งาน</p>
<ol>
<li>
<p>กลุ่ม <strong>Mainstream</strong> (ใช้งานทั่วไป)</p>
<ul>
<li><strong>STM32F0</strong> (Arm Cortex-M0 / M0+) ใช้พลังงานต่ำ และราคาประหยัด</li>
<li><strong>STM32F1</strong> (Arm Cortex-M3)</li>
<li><strong>STM32F3</strong> (Arm Cortex-M4 + FPU) เหมาะสำหรับงานที่เน้น <strong>Analog I/O</strong> และ <strong>Motor Control</strong></li>
<li><strong>STM32F4</strong> (Arm Cortex-M4 + FPU) สมรรถนะสูงกว่าตัวเลือกอื่นในกลุ่มนี้</li>
</ul>
</li>
<li>
<p>กลุ่ม <strong>Low-Power</strong> (ประหยัดพลังงาน)</p>
<ul>
<li><strong>STM32L0</strong> (Arm Cortex-M0+) ใช้พลังงานต่ำมาก (<strong>Ultra-low power</strong>)</li>
<li><strong>STM32L1</strong> (Arm Cortex-M3)</li>
<li><strong>STM32L3</strong> (Arm Cortex-M4 + FPU)</li>
<li><strong>STM32L4 / L4+</strong> (Arm Cortex-M4 + FPU)  สมรรถนะสูงกว่าตัวเลือกอื่นในกลุ่มนี้</li>
</ul>
</li>
<li>
<p>กลุ่ม <strong>High-Performance</strong> (สมรรถนะสูง)</p>
<ul>
<li><strong>STM32H7</strong> (Arm Cortex-M7) เหมาะสำหรับงานที่ต้องการประมวลผลความเร็วสูง หรือระบบที่มีความซับซ้อน (บางรุ่นมีทั้ง Cortex-M7 + Cortex-M4 ในชิปเดียวกัน)</li>
</ul>
</li>
<li>
<p>กลุ่ม <strong>Ultra-Low-Power</strong> รุ่นใหม่</p>
<ul>
<li><strong>STM32U5</strong> (Arm Cortex-M33) รองรับ <strong>TrustZone</strong> และความปลอดภัยขั้นสูง ใช้พลังงานต่ำมาก</li>
</ul>
</li>
<li>
<p>กลุ่มเฉพาะทาง (<strong>Specialized Families</strong>)</p>
<ul>
<li><strong>STM32G0 / G4</strong> (Arm Cortex-M0+ / M4) เหมาะสำหรับงานอุตสาหกรรมและควบคุมกำลัง</li>
<li><strong>STM32WB</strong> (Arm Cortex-M4 + M0+) มี <strong>Bluetooth Low Energy</strong> ในตัว</li>
<li><strong>STM32WL</strong> (Arm Cortex-M4) รองรับ <strong>LoRa / Sub-GHz Wireless</strong></li>
</ul>
</li>
</ol>
<p>ในบทความนี้ ได้เลือกใช้บอร์ด <strong>Nucleo F446RE</strong> (<em>STM32F446RET6: Cortex-M4 CPU with FPU, 180 MHz max CPU frequency, 512 KB Flash, 128 KB SRAM</em>) มาทดลองใช้กับ <strong>STM32Cube for VS Code</strong>:</p>
<p>&nbsp;</p>
<p><img alt="" src="stm32f446re.jpg" /></p>
<p>รูป: บล็อกไดอะแกรมแสดงองค์ประกอบภายในของชิป <a href="https://www.st.com/en/microcontrollers-microprocessors/stm32f446re.html"><strong>STM32F446RET6</strong></a> (Source: STMicroelectronics)</p>
<p>&nbsp;</p>
<hr />
<h2 id="stm32cube-for-vs-code_1">&#9655; <strong>ขั้นตอนการใช้งาน STM32Cube for VS Code</strong><a class="headerlink" href="#stm32cube-for-vs-code_1" title="Permanent link">#</a></h2>
<p>ถัดไปเป็นขั้นตอนการติดตั้งและใช้งาน <strong>STM32Cube for VS Code</strong> (ใช้งานสำหรับระบบปฏิบัติการ <strong>Windows 11</strong>)</p>
<p>ให้ติดตั้ง <strong>VS Code IDE</strong> ให้พร้อมใช้งานก่อน โดยดาวน์โหลดได้จาก:</p>
<ul>
<li><a href="https://code.visualstudio.com/download">https://code.visualstudio.com/download</a></li>
</ul>
<p>และศึกษาการติดตั้งใช้งานได้จาก:</p>
<ul>
<li><a href="https://code.visualstudio.com/docs/setup/setup-overview">https://code.visualstudio.com/docs/setup/setup-overview</a></li>
</ul>
<p>ขั้นตอนการดำเนินการ</p>
<ol>
<li>เปิดโปรแกรม <strong>Visual Studio Code (VS Code)</strong> จากนั้นไปที่เมนู <strong>Extensions</strong> และค้นหา
<strong>STM32Cube for VS Code</strong> แล้วคลิกปุ่ม <strong>Install</strong> เพื่อติดตั้งส่วนขยาย</li>
<li>หลังจากติดตั้งเสร็จ ให้คลิกเลือกไอคอน <strong>STM32Cube for VS Code</strong> ที่แถบด้านซ้ายของหน้าต่าง <strong>VS Code</strong></li>
<li>คลิกเลือกคำสั่ง <strong>Launch STM32CubeMX</strong> เพื่อสร้างโปรเจกต์ใหม่ โดยใช้โปรแกรม
<strong>STM32CubeMX</strong> ในโหมด <strong>Graphical User Interface (GUI)</strong>
การสร้างโค้ดจะทำผ่าน <strong>STM32CubeMX</strong> ก่อน จากนั้นจึงนำโฟลเดอร์โปรเจกต์มาเปิดใน <strong>VS Code</strong></li>
<li>ทำการตั้งค่าการใช้งานสำหรับบอร์ด <strong>Nucleo-F446RE</strong>  (เลือกเป็นบอร์ดตัวอย่างในการใช้งาน)  เช่น <ul>
<li>การตั้งค่าใน <strong>Project Manager</strong> เช่น<ul>
<li>ตั้งชื่อโปรเจกต์  (<strong>Project Name</strong>)</li>
<li>เลือกใช้ <strong>GCC</strong> สำหรับ <strong>Compiler/Linkler</strong></li>
<li>เลือก <strong>CMake</strong> สำหรับ <strong>Toolchain/IDE</strong></li>
</ul>
</li>
<li>การกำหนดแหล่งกำเนิดสัญญาณนาฬิกา (<strong>Clock Source</strong>) ในส่วนที่เรียกว่า <strong>Cloock Configuration</strong><ul>
<li>การตั้งค่าความถี่การทำงานของ <strong>CPU</strong> </li>
<li>การเลือกใช้แหล่งที่มาของสัญญาณ <strong>Clock</strong> เช่น การเลือกใช้สัญญาณ <strong>Clock</strong> จากภายนอก</li>
<li>การตั้งค่าความถี่ของระบบบัสสำหรับอุปกรณ์รอบข้าง เช่น <strong>AHB</strong> และ <strong>APB1/APB2</strong></li>
</ul>
</li>
<li>เลือกเปิดใช้งาน <strong>Peripherals</strong> ตามตัวอย่างของ <strong>STM32CubeMX</strong> เช่น <ul>
<li><code>SYS</code> (<em>System</em>) เกี่ยวข้องกับการทำงานของชิปโดยร่วม เช่น การเลือกโหมดการดีบักแบบ <strong>SWD</strong> และการตั้งค่า <strong>System Tick Timer (SysTick)</strong></li>
<li><code>RCC</code> (<em>Reset and Clock Control</em>) ใช้สำหรับกำหนดแหล่งกำเนิดสัญญาณนาฬิกาและการกระจายสัญญาณนาฬิกาภายในระบบ เช่น การเลือกใช้งาน <strong>HSE (High-Speed Clock, Bypass Clock Source)</strong> ความถี่ 8MHz นำไปผ่านวงจร <strong>PLL</strong> เพื่อให้ได้ความถี่ที่สูงขึ้น</li>
<li><code>GPIO</code> (สำหรับ <strong>Onboard LED / PA5 pin</strong> และ <strong>Push Button / PC13 pin</strong>) การเปิดใช้งานอินเทอร์รัพท์ สำหรับ <strong>External Interrupt (EXTI)</strong></li>
<li><code>USART2</code> (สำหรับรับส่งข้อมูลบิตอนุกรมแบบ <strong>Asynchronous</strong> และใช้ขา <strong>PA2/PA3</strong> สำหรับสัญญาณ <strong>TX / RX</strong> )</li>
</ul>
</li>
</ul>
</li>
<li>บันทึกโปรเจกต์เป็นไฟล์ <code>.ioc</code> โดยกำหนดชื่อโปรเจกต์และเลือกไดเรกทอรีสำหรับจัดเก็บไฟล์</li>
<li>กดปุ่ม <strong>Generate Code</strong> เพื่อให้ <strong>STM32CubeMX</strong> สร้างซอร์สโค้ดและไฟล์ตั้งค่าต่าง ๆ ของโปรเจกต์</li>
<li>ปิดหรือสลับกลับจากหน้าต่าง <strong>STM32CubeMX</strong> มาที่ <strong>VS Code IDE</strong> จากนั้นเลือกเมนู
<strong>File → Open Folder</strong> และเปิดโฟลเดอร์ของโปรเจกต์ที่ได้สร้างไว้</li>
<li>ทำขั้นตอน <strong>Build</strong> โดยใช้ <strong>CMake</strong> หากคอมไพล์โค้ดได้สำเร็จ ถือว่า ได้สร้างโปรเจกต์ให้พร้อมใช้งานแล้ว<ul>
<li>กดปุ่ม <code>Ctrl+Shift+P</code> แล้วค้นหาดูคำสั่งที่เริ่มต้นด้วย "<strong>CMake: Build</strong>"</li>
</ul>
</li>
<li>แก้ไขโค้ดในไฟล์ <code>main.c</code> และทำขั้นตอน <strong>Build</strong> อีกครั้ง</li>
<li>อัปโหลดไฟล์ <code>.elf</code> ไปยังบอร์ด <strong>Nucleo</strong> และทำขั้นตอน <strong>On-Chip Debugging</strong><ul>
<li>กดปุ่ม <code>Ctrl+Shift+P</code> แล้วค้นหาดูคำสั่งที่เริ่มต้นด้วย <strong>&gt; Run and Debug: Focus on STM32Cube Devices and Boards View</strong> (หรือกดปุ่ม <code>Ctrl+Shift+D</code>)</li>
</ul>
</li>
</ol>
<p><img alt="" src="vscode-stm-1.jpg" /></p>
<p>รูป: ค้นหาและติตตั้ง <strong>STM32Cube for VS Code</strong></p>
<p><img alt="" src="vscode-stm-2.jpg" /></p>
<p>รูป: เปิดใช้งาน <strong>STM32CubeMX</strong></p>
<p><img alt="" src="cubemx-1.jpg" /></p>
<p>รูป: หน้าต่างเริ่มต้นของ <strong>STM32CubeMX</strong></p>
<p><img alt="" src="cubemx-f446re-1.jpg" /></p>
<p>รูป: เลือกสร้างโปรเจกต์ใหม่สำหรับบอร์ด <strong>Nucleo F446RE</strong></p>
<p><img alt="" src="cubemx-f446re-2.jpg" /></p>
<p>รูป: ตัวอย่างการตั้งค่าใน <strong>Project Manager</strong> (ตั้งชื่อโปรเจกต์ และเลือกไดเรกทอรี เลือกใช้ <strong>GCC Compiler</strong> ร่วมกับ <strong>CMak</strong>)</p>
<p><img alt="" src="cubemx-f446re-3.jpg" /></p>
<p>รูป: ตัวอย่างการตั้งค่าในส่วนที่เรียกว่า <strong>Clock Configuration</strong> (เลือกสัญญาณอินพุต <strong>CLK</strong> 8MHz เข้าทาง
<strong>HSE</strong> และไปผ่านวงจร <strong>PLL</strong>)</p>
<p><img alt="" src="cubemx-f446re-4.jpg" /></p>
<p>รูป: ตรวจสอบการตั้งค่าสำหรับ <code>USART2</code></p>
<p><img alt="" src="cubemx-f446re-5.jpg" /></p>
<p>รูป: ตรวจสอบการตั้งค่าสำหรับ <code>GPIO</code></p>
<p><img alt="" src="cubemx-f446re-6.jpg" /></p>
<p>รูป: ตรวจสอบการตั้งค่าสำหรับ <code>RCC</code></p>
<p><img alt="" src="vscode-f446re-1.jpg" /></p>
<p>รูป: เปิดโปรเจกต์ที่ได้จาก <strong>STM32CubeMX</strong> ใน <strong>VS Code</strong></p>
<p><img alt="" src="vscode-f446re-2.jpg" /></p>
<p>รูป: ทำขั้นตอน <strong>Build</strong></p>
<p><img alt="" src="vscode-f446re-3.jpg" /></p>
<p>รูป: ตั้งค่าการใช้งาน <strong>ST-Link Probe</strong> เมื่อมีการเชื่อมต่อบอร์ด <strong>Nucleo</strong> กับคอมพิวเตอร์ของผู้ใช้
และให้ตรวจสอบการตั้งค่าในไฟล์ <code>.vscode/launch.json</code> เพื่อตั้งค่าการใช้งานสำหรับ
"<strong>STM32Cube: STM32 Launch ST-Link GDB Server</strong>" </p>
<p><img alt="" src="vscode-f446re-4.jpg" /></p>
<p>รูป: ทำคำสั่ง <strong>&gt; Run and Debug: Focus on STM32Cube Devices and Boards View</strong>
(หรือกดปุ่ม <code>Ctrl+Shift+D</code>) แล้วจะมีรูป <strong>Icon</strong> สำหรับการรันและดีบัก อยู่ในแถบเครื่องมือทางซ้าย</p>
<p><img alt="" src="vscode-f446re-5.jpg" /></p>
<p>รูป:  เมื่อกดปุ่มลูกศรเพื่อทำขั้นตอน <strong>RUN AND DEBUG</strong> โดยเลือกใช้ 
"<strong>STM32Cube: STM32 Launch ST-Link GDB Server</strong>"</p>
<p><img alt="" src="vscode-f446re-6.jpg" /></p>
<p>รูป: การทำงานในโหมด <strong>ST-Link GDB Server</strong> ซึ่งสามารถเชื่อมต่อกับบอร์ด <strong>Nucleo-F446RE</strong> ได้สำเร็จ</p>
<p><img alt="" src="vscode-f446re-7.jpg" /></p>
<p>รูป: การหยุดชั่วคราวตามตำแหน่ง <strong>Breakpoint</strong> ในซอร์ดโค้ด <code>main.c</code> ตามที่ได้เลือกไว้</p>
<p>ตัวอย่างโค้ดบางส่วนในไฟล์ <code>main.c</code> เพื่อทำให้ <strong>LED</strong> กระพริบ และมีการส่งข้อความออกไปทาง <strong>USART2</strong></p>
<pre><code class="language-c++">  /* Infinite loop */
  /* USER CODE BEGIN WHILE */
  while (1)
  {
   // Toggle the LED (PA5) pin.
    HAL_GPIO_TogglePin(GPIOA, GPIO_PIN_5);
    // Get the current logic value of the PC13 pin.
    uint8_t pinState = HAL_GPIO_ReadPin(GPIOA, GPIO_PIN_5);
    char sbuf[32];
    // Write a string to the string buffer (sbuf),
    // showing the current LED state and the system tick count.
    sprintf(sbuf, &quot;LED State: %s, Ticks: %lu\n&quot;,
            (pinState==GPIO_PIN_SET) ? &quot;1&quot;:&quot;0&quot;, (unsigned long) HAL_GetTick());
    // Send the string specified by the sbuf variable to USART2.
    HAL_UART_Transmit(&amp;huart2, (uint8_t *)sbuf, 
                      strlen(sbuf), HAL_MAX_DELAY);
    // Delay for 500 msec.
    HAL_Delay(500);
    /* USER CODE END WHILE */

    /* USER CODE BEGIN 3 */
  }
  /* USER CODE END 3 */
</code></pre>
<p>ตัวอย่างไฟล์  <code>.vscode/launch.json</code></p>
<pre><code class="language-json">{
  &quot;configurations&quot;: [
      {
         &quot;type&quot;: &quot;stlinkgdbtarget&quot;,
         &quot;request&quot;: &quot;launch&quot;,
         &quot;name&quot;: &quot;STM32Cube: STM32 Launch ST-Link GDB Server&quot;,
         &quot;origin&quot;: &quot;snippet&quot;,
         &quot;cwd&quot;: &quot;${workspaceFolder}&quot;,
         &quot;preBuild&quot;: &quot;${command:st-stm32-ide-debug-launch.build}&quot;,
         &quot;runEntry&quot;: &quot;main&quot;,
         &quot;imagesAndSymbols&quot;: [
             {
               &quot;imageFileName&quot;: 
               &quot;${command:st-stm32-ide-debug-launch.get-projects-binary-from-context1}&quot;
             }
          ]
      }
  ]
}
</code></pre>
<p>&nbsp;</p>
<hr />
<h2 id="_1">&#9655; <strong>กล่าวสรุป</strong><a class="headerlink" href="#_1" title="Permanent link">#</a></h2>
<p>บทความนี้ได้นำเสนอขั้นตอนการติดตั้งและใช้งาน <strong>STM32Cube for VS Code</strong> และทดลองสร้างโปรเจกต์ด้วย
<strong>STM32CubeMX</strong> สำหรับบอร์ด <strong>Nucleo-F446RE</strong> และสาธิตการรันและดีบักโค้ด
เมื่อทดสอบด้วยบอร์ดไมโครคอนโทรลเลอร์</p>
<p>&nbsp;</p>
<hr />
<p><em>This work is licensed under a</em> <strong><em>Creative Commons Attribution-ShareAlike 4.0 International License.</em></strong></p>
<p>Created: 2026-01-09 | Last Updated: 2026-01-09</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2021-2026 IoT Engineering Education, Bangkok/Thailand</a></p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script src="../../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
